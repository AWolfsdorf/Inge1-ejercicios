

----STARTUP---- (17 May 2021 20:23:36) as /home/awolfsdorf/Dropbox/CSCOM/IngeSoft1/Inge1-ejercicios/17-Portfolio 1/Porfolio.image!


TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccountTest category: 'Portfolio-Ejercicio' stamp: 'AW 5/17/2021 20:23:59'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'NR 11/2/2020 17:13:44'!
                              test01ReceptiveAccountHaveZeroAsBalanceWhenCreated 

	| account |
	
	account := ReceptiveAccount new.

	self assert: 0 equals: account balance.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'NR 11/2/2020 17:13:48'!
  test02DepositIncreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
		
	self assert: 100 equals: account balance.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'NR 11/2/2020 17:13:52'!
                            test03WithdrawDecreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
		
	self assert: 50 equals: account balance.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:32'!
                        test04WithdrawValueMustBePositive 

	| account withdrawValue |
	
	account := ReceptiveAccount new.
	withdrawValue := 50.
	
	self assert: withdrawValue equals: (Withdraw register: withdrawValue on: account) value
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:46'!
                             test05ReceptiveAccountKnowsRegisteredTransactions 

	| account deposit withdraw |
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	withdraw := Withdraw register: 50 on: account.
		
	self assert: (account hasRegistered: deposit).
	self assert: (account hasRegistered: withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'NR 5/17/2021 17:29:53'!
                         test06ReceptiveAccountDoNotKnowNotRegisteredTransactions

	| deposit withdraw account |
	
	account := ReceptiveAccount new.
	deposit :=  Deposit for: 200.
	withdraw := Withdraw for: 50.
		
	self deny: (account hasRegistered: deposit).
	self deny: (account hasRegistered:withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'NR 11/2/2020 17:14:01'!
                         test07AccountKnowsItsTransactions 

	| account1 deposit1 |
	
	account1 := ReceptiveAccount new.
	
	deposit1 := Deposit register: 50 on: account1.
		
	self assert: 1 equals: account1 transactions size.
	self assert: (account1 transactions includes: deposit1).
! !

Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'AW 5/17/2021 20:23:59'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountTransaction methodsFor: 'value' stamp: 'HernanWilkinson 9/12/2011 12:25' overrides: 16881508!
           value 

	self subclassResponsibility ! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

AccountTransaction class
	instanceVariableNames: ''!

!classDefinition: 'AccountTransaction class' category: 'Portfolio-Ejercicio' stamp: 'AW 5/17/2021 20:23:59'!
AccountTransaction class
	instanceVariableNames: ''!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'NR 10/17/2019 03:22:00'!
        register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !

AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Deposit category: 'Portfolio-Ejercicio' stamp: 'AW 5/17/2021 20:23:59'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Deposit methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:45'!
                               initializeFor: aValue

	value := aValue ! !
!Deposit methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:38' overrides: 50331753!
                         value

	^ value! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

Deposit class
	instanceVariableNames: ''!

!classDefinition: 'Deposit class' category: 'Portfolio-Ejercicio' stamp: 'AW 5/17/2021 20:23:59'!
Deposit class
	instanceVariableNames: ''!
!Deposit class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:38'!
 for: aValue

	^ self new initializeFor: aValue ! !

AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Withdraw category: 'Portfolio-Ejercicio' stamp: 'AW 5/17/2021 20:23:59'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Withdraw methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:46'!
                initializeFor: aValue

	value := aValue ! !
!Withdraw methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:33' overrides: 50331753!
                        value

	^ value! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

Withdraw class
	instanceVariableNames: ''!

!classDefinition: 'Withdraw class' category: 'Portfolio-Ejercicio' stamp: 'AW 5/17/2021 20:23:59'!
Withdraw class
	instanceVariableNames: ''!
!Withdraw class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:33'!
                             for: aValue

	^ self new initializeFor: aValue ! !

Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'AW 5/17/2021 20:23:59'!
Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ReceptiveAccount methodsFor: 'initialization' stamp: 'NR 10/17/2019 15:06:56' overrides: 16896425!
               initialize

	transactions := OrderedCollection new.! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'HernanWilkinson 7/13/2011 18:37'!
                  register: aTransaction

	transactions add: aTransaction 
! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'HernanWilkinson 7/13/2011 18:37'!
            transactions 

	^ transactions copy! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'HAW 5/23/2019 15:19:32'!
                balance

	^transactions sum: [ :aTransaction | aTransaction value ] ifEmpty: [ 0 ]! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'NR 10/17/2019 03:28:43'!
 hasRegistered: aTransaction

	^ transactions includes: aTransaction 
! !

----End fileIn of /home/awolfsdorf/Dropbox/CSCOM/IngeSoft1/Inge1-ejercicios/17-Portfolio 1/Portfolio-Ejercicio.st----!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/17/2021 20:24:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/17/2021 20:24:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:24:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:24:15'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/17/2021 20:24:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/17/2021 20:24:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/17/2021 20:24:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/17/2021 20:24:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:24:15'!
FAILURE!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:25:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:25:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/17/2021 20:25:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:25:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:25:14'!
FAILURE!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:25:14'!
FAILURE!

self at: 0!

self at: 1!

(self at: 1)!

(self at: 1)!

aTransaction value!
!AccountTransaction methodsFor: 'value' stamp: 'AW 5/17/2021 20:34:53'!
    applyOnBalance: aBalance

	self subclassResponsibility.! !
!Deposit methodsFor: 'value' stamp: 'AW 5/17/2021 20:35:25' overrides: 50331941!
                    applyOnBalance: aBalance

	^aBalance + value.! !
!Deposit methodsFor: 'value' stamp: 'AW 5/17/2021 20:35:53' prior: 50331946 overrides: 50331941!
              applyOnBalance: aBalance

	^aBalance + self value.! !
!Withdraw methodsFor: 'value' stamp: 'AW 5/17/2021 20:36:06' overrides: 50331941!
                        applyOnBalance: aBalance

	^aBalance - self value.! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'AW 5/17/2021 20:37:02' prior: 50331868!
                  balance

	^transactions inject: 0 into: [ :currentBalance :aTransaction | aTransaction applyOnBalance: currentBalance  ]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/17/2021 20:37:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:37:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:37:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/17/2021 20:37:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/17/2021 20:37:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/17/2021 20:37:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/17/2021 20:37:08'!
PASSED!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'AW 5/17/2021 20:43:22'!
Object subclass: #Portfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/17/2021 20:43:18'!
            test08
	
	| portfolio |
	
	portfolio _ Portfolio new.
	
	self assert: portfolio balance equals: 0.
! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/17/2021 20:43:28'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 20:43:34'!
                            balance
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 20:43:53' prior: 50332010!
                             balance
	
	^0.! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/17/2021 20:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/17/2021 20:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/17/2021 20:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/17/2021 20:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/17/2021 20:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/17/2021 20:43:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/17/2021 20:43:55'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/17/2021 20:45:50'!
                         test09
	
	| portfolio anAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	self assert: portfolio balance equals: 0.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/17/2021 20:47:02' prior: 50332050!
                test09
	
	| portfolio anAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	
	portfolio register: anAccount.
	
	self assert: portfolio balance equals: 0.
! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 20:47:04'!
ERROR!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/17/2021 20:47:22' prior: 50332058!
                      test09
	
	| portfolio anAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	
	portfolio register: anAccount.
	
	self assert: portfolio balance equals: 100.
! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 20:47:24'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 20:47:30'!
 register: aReceptiveAccount 
	self shouldBeImplemented.! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'AW 5/17/2021 20:51:21'!
Object subclass: #Portfolio
	instanceVariableNames: 'financialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 20:51:18' prior: 50332083!
                    register: afinancialAsset 
	
	financialAssets add: afinancialAsset.! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 20:51:29'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 20:52:13' overrides: 16896425!
        initialize

	financialAssets := OrderedCollection new.! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 20:52:15'!
FAILURE!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 20:52:33'!
FAILURE!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 20:53:04'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 20:54:35' prior: 50332015!
                   balance
	
	^100 * (financialAssets size) .! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 20:54:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/17/2021 20:54:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:54:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:54:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/17/2021 20:54:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/17/2021 20:54:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/17/2021 20:54:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/17/2021 20:54:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/17/2021 20:54:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 20:54:42'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/17/2021 20:56:13'!
            test10
	
	| portfolio anAccount anotherAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	Deposit register: 50 on: anAccount.
	
	portfolio register: anAccount.
	portfolio register: anotherAccount .
	
	self assert: portfolio balance equals: 150.
! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/17/2021 20:56:29'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 20:57:44' prior: 50332117!
             balance
	
	^ financialAssets sum: [ :financialAsset | financialAsset value ] ifEmpty: [ 0 ].! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/17/2021 20:58:18'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 20:58:49' prior: 50332172!
                   balance
	
	^ financialAssets sum: [ :financialAsset | financialAsset balance ] ifEmpty: [ 0 ].! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/17/2021 20:58:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/17/2021 20:58:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:58:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 20:58:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/17/2021 20:58:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/17/2021 20:58:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/17/2021 20:58:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/17/2021 20:58:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/17/2021 20:58:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 20:58:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/17/2021 20:58:50'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/17/2021 21:06:34'!
       test11
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio register: anAccount.
	
	self assert: (portfolio hasRegister: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 21:06:46' prior: 50332155!
                  test10
	
	| portfolio anAccount anotherAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	Deposit register: 50 on: anAccount.
	
	portfolio registerAsset: anAccount.
	portfolio registerAsset: anotherAccount .
	
	self assert: portfolio balance equals: 150.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 21:06:46' prior: 50332071!
          test09
	
	| portfolio anAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: portfolio balance equals: 100.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 21:06:46' prior: 50332223!
                 test11
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: (portfolio hasRegister: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/17/2021 21:06:55' prior: 50332261!
                           test11
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: (portfolio hasRegister: aTransaction).
! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/17/2021 21:06:57'!
ERROR!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/17/2021 21:07:11' prior: 50332273!
           test11
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio register: anAccount.
	
	self assert: (portfolio hasRegister: aTransaction).
! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AW 5/17/2021 21:07:20'!
             registerAsset: aTransaction

	transactions add: aTransaction 
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 21:07:20'!
                 registerAsset: afinancialAsset 
	
	financialAssets add: afinancialAsset.! !
!AccountTransaction class methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 21:07:20' prior: 50331766!
        register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account registerAsset: transaction.
		
	^ transaction! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 21:07:20' prior: 50332287!
           test11
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: (portfolio hasRegister: aTransaction).
! !

!methodRemoval: ReceptiveAccount #register: stamp: 'AW 5/17/2021 21:07:20'!
register: aTransaction

	transactions add: aTransaction 
!

!methodRemoval: Portfolio #register: stamp: 'AW 5/17/2021 21:07:20'!
register: afinancialAsset 
	
	financialAssets add: afinancialAsset.!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/17/2021 21:07:29'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 21:07:38'!
     hasRegister: aDeposit 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 21:07:54' prior: 50332339!
              hasRegister: aTransaction 
	
	
	^true.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 21:08:07'!
         hasRegistered: aTransaction 
	
	
	^true.! !

!methodRemoval: Portfolio #hasRegister: stamp: 'AW 5/17/2021 21:08:08'!
hasRegister: aTransaction 
	
	
	^true.!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/17/2021 21:08:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/17/2021 21:08:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 21:08:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 21:08:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/17/2021 21:08:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/17/2021 21:08:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/17/2021 21:08:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/17/2021 21:08:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/17/2021 21:08:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 21:08:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/17/2021 21:08:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/17/2021 21:08:18'!
ERROR!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/17/2021 21:08:18'!
ERROR!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/17/2021 21:08:41' prior: 50332317!
                            test11
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/17/2021 21:08:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/17/2021 21:08:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 21:08:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 21:08:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/17/2021 21:08:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/17/2021 21:08:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/17/2021 21:08:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/17/2021 21:08:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/17/2021 21:08:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 21:08:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/17/2021 21:08:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/17/2021 21:08:41'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/17/2021 21:09:37'!
           test12
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/17/2021 21:09:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/17/2021 21:09:39'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/17/2021 21:10:01' prior: 50332448!
                 test12
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self deny: (portfolio hasRegistered: aTransaction).
! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/17/2021 21:10:02'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/17/2021 21:10:47' prior: 50332348!
             hasRegistered: aTransaction 
	
	
	^financialAssets size = 1.! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/17/2021 21:10:50'!
PASSED!

----QUIT----(17 May 2021 21:48:57) Porfolio.image priorSource: 3042!

----STARTUP---- (20 May 2021 20:17:15) as /home/nikita/r/f/ingsoft1/Inge1-ejercicios/17-Portfolio 1/Porfolio.image!

!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:27:24'!
           test13
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).

" un portfolio con una cuenta que tiene dos tx
  un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:27:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:27:26'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:28:49' prior: 50332565!
 test13
	
	| portfolio anAccount aTransaction anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
	self assert: (portfolio hasRegistered: anotherTransaction).

" un portfolio con una cuenta que tiene dos tx
  un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:28:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:28:51'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:29:49' prior: 50332627!
           test13
	
	| portfolio anAccount anotherAccount aTransaction anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
	self deny: (portfolio hasRegistered: anotherTransaction).

" un portfolio con una cuenta que tiene dos tx
  un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:30:03'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:31:21' prior: 50332692!
                               test13
	
	| portfolio anAccount anotherAccount aTransaction anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio registerAsset: anAccount.
	
	self deny: (portfolio hasRegistered: anotherTransaction).

" un portfolio con una cuenta que tiene dos tx
  un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:31:32' prior: 50332718!
        test13
	
	| portfolio anAccount anotherAccount anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio registerAsset: anAccount.
	
	self deny: (portfolio hasRegistered: anotherTransaction).

" un portfolio con una cuenta que tiene dos tx
  un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:32:20' prior: 50332513!
 hasRegistered: aTransaction 
	
	
	^financialAssets anySatisfy: [:account | account hasRegistered: aTransaction ].! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:32:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:32:21'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:33:22' prior: 50332759!
                               hasRegistered: aTransaction 
	
	^financialAssets anySatisfy: [:account | account hasRegistered: aTransaction ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:34:23' prior: 50332808!
                hasRegistered: aTransaction 
	
	^financialAssets first hasRegistered: aTransaction.! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:34:37'!
ERROR!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:34:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:34:37'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:35:30' prior: 50332815!
                             hasRegistered: aTransaction 
	
	financialAssets isEmpty ifTrue: [^false].
	^financialAssets first hasRegistered: aTransaction.! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:35:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:35:32'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:35:51'!
                    test14
	
	| portfolio anAccount anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anAccount.
	
	portfolio registerAsset: anAccount.
	
	self deny: (portfolio hasRegistered: anotherTransaction).

" un portfolio con una cuenta que tiene dos tx
  un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:35:56' prior: 50332919!
test14
	
	| portfolio anAccount anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: (portfolio hasRegistered: anotherTransaction).

" un portfolio con una cuenta que tiene dos tx
  un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:36:59' prior: 50332937!
                              test14
	
	| portfolio anAccount anotherAccount aTransaction anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
	self assert: (portfolio hasRegistered: anotherTransaction).

"un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:37:01'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:38:19' prior: 50332868!
          hasRegistered: aTransaction 
	
	financialAssets isEmpty ifTrue: [^false].
	(financialAssets size = 1) ifTrue: [^financialAssets first hasRegistered: aTransaction.].
	^financialAssets second hasRegistered: aTransaction.! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:38:22'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:38:40' prior: 50332956!
                      test14
	
	| portfolio anAccount anotherAccount aTransaction anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio registerAsset: anAccount.
	portfolio registerAsset: anotherAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
	self assert: (portfolio hasRegistered: anotherTransaction).

"un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:38:41'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:40:31' prior: 50332980!
hasRegistered: aTransaction 
	
	financialAssets anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ].! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:40:33'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:40:42' prior: 50333018!
                            hasRegistered: aTransaction 
	
	^financialAssets anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ].! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:40:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:41:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:41:25'!
PASSED!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'nz 5/20/2021 20:41:40'!
                         registerAccount: aTransaction

	transactions add: aTransaction 
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:41:40'!
               registerAccount: afinancialAsset 
	
	financialAssets add: afinancialAsset.! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:41:40' prior: 50332250!
          test09
	
	| portfolio anAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	
	portfolio registerAccount: anAccount.
	
	self assert: portfolio balance equals: 100.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:41:40' prior: 50332235!
               test10
	
	| portfolio anAccount anotherAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	Deposit register: 50 on: anAccount.
	
	portfolio registerAccount: anAccount.
	portfolio registerAccount: anotherAccount .
	
	self assert: portfolio balance equals: 150.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:41:40' prior: 50332739!
      test13
	
	| portfolio anAccount anotherAccount anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio registerAccount: anAccount.
	
	self deny: (portfolio hasRegistered: anotherTransaction).

" un portfolio con una cuenta que tiene dos tx
  un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!AccountTransaction class methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:41:40' prior: 50332309!
                register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account registerAccount: transaction.
		
	^ transaction! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:41:40' prior: 50332398!
         test11
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio registerAccount: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:41:40' prior: 50332993!
         test14
	
	| portfolio anAccount anotherAccount aTransaction anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio registerAccount: anAccount.
	portfolio registerAccount: anotherAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
	self assert: (portfolio hasRegistered: anotherTransaction).

"un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !

!methodRemoval: ReceptiveAccount #registerAsset: stamp: 'nz 5/20/2021 20:41:40'!
registerAsset: aTransaction

	transactions add: aTransaction 
!

!methodRemoval: Portfolio #registerAsset: stamp: 'nz 5/20/2021 20:41:40'!
registerAsset: afinancialAsset 
	
	financialAssets add: afinancialAsset.!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:41:55'!
PASSED!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'nz 5/20/2021 20:42:04'!
Object subclass: #Portfolio
	instanceVariableNames: 'accounts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:42:04' prior: 50333028!
                          hasRegistered: aTransaction 
	
	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:42:04' prior: 50332104 overrides: 16896425!
                              initialize

	accounts := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:42:04' prior: 50332181!
                balance
	
	^ accounts sum: [ :financialAsset | financialAsset balance ] ifEmpty: [ 0 ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:42:04' prior: 50333133!
        registerAccount: afinancialAsset 
	
	accounts add: afinancialAsset.! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:42:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:42:06'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:43:07'!
                              test15
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	anotherPortfolio registerAccount: anAccount.
	portfolio registerPortfolio: anotherPortfolio.
	
	self assert: (portfolio hasRegistered: aTransaction).

"un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:43:18' prior: 50333361!
                         test15
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	anotherPortfolio registerAccount: anAccount.
	portfolio registerPortfolio: anotherPortfolio.
	
	self assert: (portfolio hasRegistered: aTransaction).

"
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:43:24'!
                        test16
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	anotherPortfolio registerAccount: anAccount.
	portfolio registerPortfolio: anotherPortfolio.
	
	self assert: (portfolio hasRegistered: aTransaction).

"
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !

!methodRemoval: ReceptiveAccountTest #test16 stamp: 'nz 5/20/2021 20:43:55'!
test16
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	anotherPortfolio registerAccount: anAccount.
	portfolio registerPortfolio: anotherPortfolio.
	
	self assert: (portfolio hasRegistered: aTransaction).

"
  un portfolio con un portfolio con una cuenta que tiene una tx
"!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:44:00'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:44:11'!
                           registerPortfolio: aPortfolio 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:44:19' prior: 50333433!
      registerPortfolio: aPortfolio 
	! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:44:20'!
FAILURE!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'nz 5/20/2021 20:45:16'!
Object subclass: #Portfolio
	instanceVariableNames: 'accounts hasPortfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:45:09' prior: 50333438!
                   registerPortfolio: aPortfolio 
	hasPortfolio _ true! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:45:34' prior: 50333290!
            hasRegistered: aTransaction 
	hasPortfolio ifTrue: [^true].
	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ].! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:45:36'!
ERROR!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:45:36'!
ERROR!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:45:36'!
ERROR!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:45:36'!
ERROR!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:45:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:45:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:45:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:45:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:45:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:45:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:45:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:45:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:45:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:45:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:45:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:45:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:45:46'!
ERROR!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:45:46'!
ERROR!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:45:46'!
ERROR!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:45:46'!
ERROR!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:45:46'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:46:01' prior: 50333298 overrides: 16896425!
     initialize

	accounts := OrderedCollection new.
	hasPortfolio _ true.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:46:02'!
FAILURE!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:46:02'!
FAILURE!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:46:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:46:02'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:46:07' prior: 50333564 overrides: 16896425!
                   initialize

	accounts := OrderedCollection new.
	hasPortfolio _ false.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:46:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:46:07'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:47:22'!
                           test16
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	"anotherPortfolio registerAccount: anAccount."
	portfolio registerPortfolio: anotherPortfolio.
	
	self deny: (portfolio hasRegistered: aTransaction).
! !

!testRun: #ReceptiveAccountTest #test16 stamp: 'nz 5/20/2021 20:47:30'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:48:55'!
          test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	"anotherPortfolio registerAccount: anAccount."
	portfolio registerPortfolio: anotherPortfolio.
	
	self deny: (portfolio hasRegistered: aTransaction).
! !

!methodRemoval: ReceptiveAccountTest #test16 stamp: 'nz 5/20/2021 20:48:55'!
test16
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	"anotherPortfolio registerAccount: anAccount."
	portfolio registerPortfolio: anotherPortfolio.
	
	self deny: (portfolio hasRegistered: aTransaction).
!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 20:49:23'!
FAILURE!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'nz 5/20/2021 20:49:48'!
Object subclass: #Portfolio
	instanceVariableNames: 'accounts portfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:49:48' prior: 50333453!
      registerPortfolio: aPortfolio 
	portfolio _ true! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:49:48' prior: 50333617 overrides: 16896425!
                           initialize

	accounts := OrderedCollection new.
	portfolio _ false.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:49:48' prior: 50333458!
                            hasRegistered: aTransaction 
	portfolio ifTrue: [^true].
	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:49:53' prior: 50333729!
                        registerPortfolio: aPortfolio 
	portfolio _ aPortfolio! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:50:01' prior: 50333735 overrides: 16896425!
                     initialize

	accounts := OrderedCollection new.
	portfolio _ nil.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:50:17' prior: 50333741!
                              hasRegistered: aTransaction 
	portfolio ifNotNil: [^true].
	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ].! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:50:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 20:50:18'!
FAILURE!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 20:50:18'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:50:38' prior: 50333761!
             hasRegistered: aTransaction 
	portfolio ifNotNil: [^portfolio hasRegistered: aTransaction].
	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ].! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:50:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 20:50:39'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:55:12' prior: 50333686!
                            test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones
	
	| firstPortfolio secondPortfolio thirdPortfolio anAccount aTransaction |
	
	firstPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	"anotherPortfolio registerAccount: anAccount."
	firstPortfolio registerPortfolio: secondPortfolio.
	firstPortfolio registerPortfolio: thirdPortfolio.
	
	self assert: (firstPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:55:17' prior: 50333884!
                            test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones
	
	| mainPortfolio secondPortfolio thirdPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	"anotherPortfolio registerAccount: anAccount."
	mainPortfolio registerPortfolio: secondPortfolio.
	mainPortfolio registerPortfolio: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:55:51' prior: 50333905!
 test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones
	
	| mainPortfolio secondPortfolio thirdPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	secondPortfolio registerAccount: anAccount.
	
	mainPortfolio registerPortfolio: secondPortfolio.
	mainPortfolio registerPortfolio: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 20:56:10'!
FAILURE!

portfolio hasRegistered: aTransaction!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'nz 5/20/2021 20:57:20'!
Object subclass: #Portfolio
	instanceVariableNames: 'accounts portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:57:20' prior: 50333749!
                       registerPortfolio: aPortfolio 
	portfolios _ aPortfolio! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:57:20' prior: 50333755 overrides: 16896425!
                    initialize

	accounts := OrderedCollection new.
	portfolios _ nil.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:57:20' prior: 50333824!
                             hasRegistered: aTransaction 
	portfolios ifNotNil: [^portfolios hasRegistered: aTransaction].
	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:57:29' prior: 50333959!
                   registerPortfolio: aPortfolio 
	portfolios add: aPortfolio! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:57:35' prior: 50333980!
     registerPortfolio: aPortfolio 

	portfolios add: aPortfolio! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:57:49' prior: 50333965 overrides: 16896425!
                initialize

	accounts _ OrderedCollection new.
	portfolios _ OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:58:03' prior: 50333985!
            registerPortfolio: aPortfolio 

	portfolios add: aPortfolio.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:58:13'!
ERROR!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:58:13'!
ERROR!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:58:13'!
ERROR!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:58:13'!
ERROR!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:58:13'!
ERROR!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 20:58:13'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 20:58:50' prior: 50333971!
             hasRegistered: aTransaction 
	portfolios ifNotEmpty: [
		^portfolios first hasRegistered: aTransaction
	].
	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ].! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:58:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 20:58:51'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:59:13'!
                             test17
	
	| mainPortfolio secondPortfolio thirdPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	secondPortfolio registerAccount: anAccount.
	
	mainPortfolio registerPortfolio: secondPortfolio.
	mainPortfolio registerPortfolio: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 20:48:55' prior: 50333925!
test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	"anotherPortfolio registerAccount: anAccount."
	portfolio registerPortfolio: anotherPortfolio.
	
	self deny: (portfolio hasRegistered: aTransaction).
! !

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 20:59:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'nz 5/20/2021 20:59:41'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 21:00:53'!
          test18
	
	| mainPortfolio secondPortfolio thirdPortfolio anotherAccount anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	Deposit register: 500 on: anAccount.
	secondPortfolio registerAccount: anAccount.
	
	anotherAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anotherAccount.
	thirdPortfolio registerAccount: anAccount.
	
	mainPortfolio registerPortfolio: secondPortfolio.
	mainPortfolio registerPortfolio: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 21:01:02' prior: 50334205!
                test18
	
	| mainPortfolio secondPortfolio thirdPortfolio anotherAccount anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	Deposit register: 500 on: anAccount.
	secondPortfolio registerAccount: anAccount.
	
	anotherAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 300 on: anotherAccount.
	thirdPortfolio registerAccount: anAccount.
	
	mainPortfolio registerPortfolio: secondPortfolio.
	mainPortfolio registerPortfolio: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/20/2021 21:01:05'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 21:01:27' prior: 50334053!
                           hasRegistered: aTransaction 
	portfolios ifNotEmpty: [
		^portfolios anySatisfy: [ :aPortfolio | aPortfolio hasRegistered: aTransaction ].
	].
	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ].! !

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/20/2021 21:01:29'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 21:01:51' prior: 50334228!
                   test18
	
	| mainPortfolio secondPortfolio thirdPortfolio anotherAccount anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	Deposit register: 500 on: anAccount.
	secondPortfolio registerAccount: anAccount.
	
	anotherAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 300 on: anotherAccount.
	thirdPortfolio registerAccount: anotherAccount.
	
	mainPortfolio registerPortfolio: secondPortfolio.
	mainPortfolio registerPortfolio: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'nz 5/20/2021 21:01:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/20/2021 21:01:52'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 21:03:02'!
            test19
	
	| mainPortfolio secondPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	
	mainPortfolio registerAccount: anAccount.
	mainPortfolio registerPortfolio: secondPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 21:03:39' prior: 50334348!
    test19
	
	| mainPortfolio secondPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	
	secondPortfolio _ Portfolio new.
	mainPortfolio registerPortfolio: secondPortfolio.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio registerAccount: anAccount.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/20/2021 21:03:54' prior: 50334363!
test19
	
	| mainPortfolio secondPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	
	secondPortfolio _ Portfolio new.
	mainPortfolio registerPortfolio: secondPortfolio.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio registerAccount: anAccount.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/20/2021 21:03:56'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 21:04:28' prior: 50334254!
             hasRegistered: aTransaction 
	
		^(portfolios anySatisfy: [ :aPortfolio | aPortfolio hasRegistered: aTransaction ]) or:
	
	[ accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ] ].! !

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/20/2021 21:04:31'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 21:04:40' prior: 50334396!
                    hasRegistered: aTransaction 
	
	^(portfolios anySatisfy: [ :aPortfolio | aPortfolio hasRegistered: aTransaction ]) or:
	[ accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ] ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 21:04:42' prior: 50334467!
                       hasRegistered: aTransaction 
	
	^(portfolios anySatisfy: [ :aPortfolio | aPortfolio hasRegistered: aTransaction ]) or:
	 [ accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ] ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 21:04:43' prior: 50334477!
                      hasRegistered: aTransaction 
	
	^(portfolios anySatisfy: [ :aPortfolio | aPortfolio hasRegistered: aTransaction ]) or:
		[ accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ] ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/20/2021 21:04:49' prior: 50334487!
                      hasRegistered: aTransaction 
	
	^(portfolios anySatisfy: [ :aPortfolio | aPortfolio hasRegistered: aTransaction ])
	or: [ accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ] ].! !

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/20/2021 21:04:51'!
PASSED!

----QUIT----(20 May 2021 21:05:06) Porfolio.image priorSource: 29070!

----STARTUP---- (20 May 2021 21:06:13) as /home/nikita/r/f/ingsoft1/Inge1-ejercicios/17-Portfolio 1/Porfolio.image!


----QUIT----(20 May 2021 21:06:20) Porfolio.image priorSource: 93323!

----STARTUP---- (23 May 2021 19:17:19) as /home/awolfsdorf/Dropbox/CSCOM/IngeSoft1/Inge1-ejercicios/17-Portfolio 1/Porfolio.image!


!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 19:19:47'!
PASSED!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'AW 5/23/2021 19:28:13'!
Object subclass: #Portfolio
	instanceVariableNames: 'accounts financialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:28:13' prior: 50333997!
  registerPortfolio: aPortfolio 

	financialAssets add: aPortfolio.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:28:13' prior: 50333991 overrides: 16896425!
          initialize

	accounts _ OrderedCollection new.
	financialAssets _ OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:28:13' prior: 50334497!
       hasRegistered: aTransaction 
	
	^(financialAssets anySatisfy: [ :aPortfolio | aPortfolio hasRegistered: aTransaction ])
	or: [ accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ] ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:28:42' prior: 50334658!
                  hasRegistered: aTransaction 
	
	^(financialAssets anySatisfy: [ :anAsset | anAsset hasRegistered: aTransaction ])
	or: [ accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ] ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:28:55' prior: 50334668!
                        hasRegistered: aTransaction 
	
	^financialAssets anySatisfy: [ :anAsset | anAsset hasRegistered: aTransaction ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:29:07' prior: 50334652 overrides: 16896425!
                           initialize

	financialAssets _ OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:29:41' prior: 50333309!
          registerAccount: afinancialAsset 
	
	financialAssets add: afinancialAsset.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:30:12' prior: 50333303!
                     balance
	
	^ financialAssets sum: [ :financialAsset | financialAsset balance ] ifEmpty: [ 0 ].! !

Object subclass: #Portfolio
	instanceVariableNames: 'financialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'AW 5/23/2021 19:30:23'!
Object subclass: #Portfolio
	instanceVariableNames: 'financialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 19:30:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 19:30:42'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:30:58'!
                     registerAsset: afinancialAsset 
	
	financialAssets add: afinancialAsset.! !

!methodRemoval: Portfolio #registerPortfolio: stamp: 'AW 5/23/2021 19:31:13'!
registerPortfolio: aPortfolio 

	financialAssets add: aPortfolio.!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:31:28' prior: 50333380!
        test15
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	anotherPortfolio registerAccount: anAccount.
	portfolio registerAsset: anotherPortfolio.
	
	self assert: (portfolio hasRegistered: aTransaction).

"
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:31:34' prior: 50334131!
            test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	"anotherPortfolio registerAccount: anAccount."
	portfolio registerAsset: anotherPortfolio.
	
	self deny: (portfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:31:40' prior: 50334113!
                      test17
	
	| mainPortfolio secondPortfolio thirdPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	secondPortfolio registerAccount: anAccount.
	
	mainPortfolio registerAsset: secondPortfolio.
	mainPortfolio registerAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:31:46' prior: 50334267!
        test18
	
	| mainPortfolio secondPortfolio thirdPortfolio anotherAccount anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	Deposit register: 500 on: anAccount.
	secondPortfolio registerAccount: anAccount.
	
	anotherAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 300 on: anotherAccount.
	thirdPortfolio registerAccount: anotherAccount.
	
	mainPortfolio registerAsset: secondPortfolio.
	mainPortfolio registerAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:31:51' prior: 50334378!
                   test19
	
	| mainPortfolio secondPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	
	secondPortfolio _ Portfolio new.
	mainPortfolio registerAsset: secondPortfolio.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio registerAccount: anAccount.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !

!methodRemoval: Portfolio #registerAccount: stamp: 'AW 5/23/2021 19:32:01'!
registerAccount: afinancialAsset 
	
	financialAssets add: afinancialAsset.!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'AW 5/23/2021 19:32:05' prior: 50333186!
                             register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account registerAsset: transaction.
		
	^ transaction! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:32:09' prior: 50333139!
                         test09
	
	| portfolio anAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: portfolio balance equals: 100.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:32:14' prior: 50333150!
                               test10
	
	| portfolio anAccount anotherAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	Deposit register: 50 on: anAccount.
	
	portfolio registerAsset: anAccount.
	portfolio registerAsset: anotherAccount .
	
	self assert: portfolio balance equals: 150.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:32:29' prior: 50333165!
                        test13
	
	| portfolio anAccount anotherAccount anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio registerAsset: anAccount.
	
	self deny: (portfolio hasRegistered: anotherTransaction).

" un portfolio con una cuenta que tiene dos tx
  un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:32:41' prior: 50333194!
    test11
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio registerAsset: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:32:56' prior: 50333206!
                         test14
	
	| portfolio anAccount anotherAccount aTransaction anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio registerAsset: anAccount.
	portfolio registerAsset: anotherAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
	self assert: (portfolio hasRegistered: anotherTransaction).

"un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:33:01' prior: 50334789!
                     test15
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	anotherPortfolio registerAsset: anAccount.
	portfolio registerAsset: anotherPortfolio.
	
	self assert: (portfolio hasRegistered: aTransaction).

"
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:33:06' prior: 50334823!
              test17
	
	| mainPortfolio secondPortfolio thirdPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	secondPortfolio registerAsset: anAccount.
	
	mainPortfolio registerAsset: secondPortfolio.
	mainPortfolio registerAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:33:16' prior: 50334841!
          test18
	
	| mainPortfolio secondPortfolio thirdPortfolio anotherAccount anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	Deposit register: 500 on: anAccount.
	secondPortfolio registerAsset: anAccount.
	
	anotherAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 300 on: anotherAccount.
	thirdPortfolio registerAsset: anotherAccount.
	
	mainPortfolio registerAsset: secondPortfolio.
	mainPortfolio registerAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:33:22' prior: 50334864!
                       test19
	
	| mainPortfolio secondPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	
	secondPortfolio _ Portfolio new.
	mainPortfolio registerAsset: secondPortfolio.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio registerAsset: anAccount.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 19:33:29'!
ERROR!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 19:33:43'!
ERROR!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 19:33:49'!
ERROR!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 19:34:08'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AW 5/23/2021 19:35:54'!
                     registerTransaction: aTransaction

	transactions add: aTransaction 
! !

!methodRemoval: ReceptiveAccount #registerAccount: stamp: 'AW 5/23/2021 19:35:54'!
registerAccount: aTransaction

	transactions add: aTransaction 
!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'AW 5/23/2021 19:36:17' prior: 50334885!
                        register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account registerTransaction: transaction.
		
	^ transaction! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 19:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 19:36:39'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:44:57'!
                    test20
	
	| mainPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio registerAsset: anAccount.
	
	self should: [mainPortfolio registerAsset: anAccount.]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 19:45:01'!
ERROR!
!Portfolio class methodsFor: 'errors' stamp: 'AW 5/23/2021 19:46:09'!
                               accountAlreadyInPortfolioErrorDescription
	self shouldBeImplemented.! !
!Portfolio class methodsFor: 'errors' stamp: 'AW 5/23/2021 19:46:37' prior: 50335149!
  accountAlreadyInPortfolioErrorDescription
	^'The given account is already in the portfolio tree'! !

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 19:46:42'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:48:36' prior: 50334779!
             registerAsset: aFinancialAsset 
	
	(self hasAsset: aFinancialAsset) ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].
	
	financialAssets add: aFinancialAsset.! !

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 19:48:43'!
FAILURE!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 19:49:00'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:53:21'!
                 hasAsset: aFinancialAsset

	^financialAssets includes: aFinancialAsset.! !

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 19:53:23'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:54:51'!
                          test21
	
	| mainPortfolio |
	
	mainPortfolio _ Portfolio new.
		
	self should: [ 	mainPortfolio registerAsset: mainPortfolio. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 19:55:26'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:56:15' prior: 50335163!
                      registerAsset: aFinancialAsset 
	
	
	((self hasAsset: aFinancialAsset) or: [(self = aFinancialAsset)]) ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].
	
	financialAssets add: aFinancialAsset.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 19:56:23' prior: 50335259!
  registerAsset: aFinancialAsset 
	
	
	((self hasAsset: aFinancialAsset) or: [ self = aFinancialAsset ]) 
		ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].
	
	financialAssets add: aFinancialAsset.! !

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 19:56:27'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 19:59:59'!
                test22
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio registerAsset: innerPortfolio.
	innerPortfolio registerAsset: anAccount.
		
	self should: [ 	mainPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 20:00:03'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:03:14' prior: 50335177!
   hasAsset: aFinancialAsset

	^(financialAssets includes: aFinancialAsset) or: [ financialAssets anySatisfy: [ :anAsset | anAsset hasAsset: aFinancialAsset ] ].! !

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 20:04:25'!
ERROR!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 20:04:25'!
ERROR!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 20:04:25'!
ERROR!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 20:04:25'!
ERROR!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 20:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 20:04:27'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:04:39'!
           hasAsset: aReceptiveAccount 
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:05:05' prior: 50335442!
 hasAsset: anAsset 
	^false.! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 20:05:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 20:05:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 20:05:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 20:05:12'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:07:16'!
                   -test23
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio registerAsset: innerPortfolio.
	mainPortfolio registerAsset: anAccount.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:07:32'!
      _test23
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio registerAsset: innerPortfolio.
	mainPortfolio registerAsset: anAccount.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !

!methodRemoval: ReceptiveAccountTest #- stamp: 'AW 5/23/2021 20:07:44'!
-test23
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio registerAsset: innerPortfolio.
	mainPortfolio registerAsset: anAccount.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 20:08:15'!
PASSED!

Object subclass: #FinancialAsset
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #FinancialAsset category: 'Portfolio-Ejercicio' stamp: 'AW 5/23/2021 20:10:53'!
Object subclass: #FinancialAsset
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'AW 5/23/2021 20:11:02'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinancialAsset subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'AW 5/23/2021 20:11:12'!
FinancialAsset subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!FinancialAsset methodsFor: 'nil' stamp: 'AW 5/23/2021 20:11:34'!
   hasAsset: anAsset
	self subclassResponsibility.! !
!FinancialAsset methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:12:07'!
                           balance
	self subclassResponsibility.! !
!FinancialAsset methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:12:35'!
     hasRegistered: aTransaction.

	self subclassResponsibility.! !
!FinancialAsset methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:12:36' prior: 50335621!
                               hasRegistered: aTransaction

	self subclassResponsibility.! !
!FinancialAsset methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:12:41' prior: 50335627!
hasRegistered: aTransaction

	self subclassResponsibility.! !

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 20:13:02'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:24:51'!
     test23
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio registerAsset: innerPortfolio.
	mainPortfolio registerAsset: anAccount.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !

!methodRemoval: ReceptiveAccountTest #_test23 stamp: 'AW 5/23/2021 20:24:54'!
_test23
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio registerAsset: innerPortfolio.
	mainPortfolio registerAsset: anAccount.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:24:57'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:30:14' prior: 50335269!
     registerAsset: aFinancialAsset 
	
	
	((self hasAsset: aFinancialAsset) or: [ self = aFinancialAsset ]) 
		ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].
	
	aFinancialAsset addedToPortfolio: self.
	financialAssets add: aFinancialAsset.! !

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:30:27'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:30:37'!
                      addedToPortfolio: aPortfolio 
	self shouldBeImplemented.! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'AW 5/23/2021 20:31:20'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets parentPortfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:31:17' prior: 50335752!
                           addedToPortfolio: aPortfolio 
	
	parentPortfolio := aPortfolio.! !

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:31:22'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:31:37'!
                         addedToPortfolio: aPortfolio 
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:31:42' prior: 50335774!
addedToPortfolio: aPortfolio ! !

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:31:45'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:34:22' prior: 50335738!
                registerAsset: aFinancialAsset 
	
	
	(((self = aFinancialAsset) or: [ self hasAsset: aFinancialAsset ]) or: [ parentPortfolio hasAsset: aFinancialAsset ])
		ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].
	
	aFinancialAsset addedToPortfolio: self.
	financialAssets add: aFinancialAsset.! !

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 20:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 20:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 20:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 20:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 20:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 20:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 20:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 20:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:34:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 20:34:53'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:36:47' prior: 50334686 overrides: 16896425!
        initialize

	financialAssets _ OrderedCollection new.
	parentPortfolio _ nil.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:39:16' prior: 50335786!
                  registerAsset: aFinancialAsset 
	
	
	(((self = aFinancialAsset) 
	or: [ self hasAsset: aFinancialAsset ]) 
	or: [ parentPortfolio ifNotNil: [ :portfolio | portfolio hasAsset: aFinancialAsset ] ])
		ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].

	aFinancialAsset addedToPortfolio: self.
	financialAssets add: aFinancialAsset.! !

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:39:21'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:40:14' prior: 50335879!
           registerAsset: aFinancialAsset 
	
	
	(((self = aFinancialAsset) 
	or: [ self hasAsset: aFinancialAsset ]) 
	or: [ parentPortfolio ifNotNil: [ parentPortfolio hasAsset: aFinancialAsset ] ifNil: [ false ] ])
		ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].

	aFinancialAsset addedToPortfolio: self.
	financialAssets add: aFinancialAsset.! !

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:40:23'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:40:54' prior: 50335896!
             registerAsset: aFinancialAsset 
	
	self validateAddAsset: aFinancialAsset.

	aFinancialAsset addedToPortfolio: self.
	financialAssets add: aFinancialAsset.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:41:05' prior: 50335982!
    registerAsset: aFinancialAsset 
	
	self validateAddAsset: aFinancialAsset.

	aFinancialAsset addedToPortfolio: self.
	financialAssets add: aFinancialAsset.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:41:21'!
                    validateAddAsset: aFinancialAsset
	
	(((self = aFinancialAsset) 
		or: [ self hasAsset: aFinancialAsset ]) 
		or: [ parentPortfolio ifNotNil: [ parentPortfolio hasAsset: aFinancialAsset ] ifNil: [ false ] ])
			ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].! !

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:41:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:46:40'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:52:07' prior: 50335705!
                          test23
	
	| parentPortfolio innerPortfolio anAccount |
	
	parentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	parentPortfolio registerAsset: innerPortfolio.
	parentPortfolio registerAsset: anAccount.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:53:45' prior: 50336153!
               test23
	
	| parentPortfolio otherParentPortfolio innerPortfolio anAccount |
	
	parentPortfolio _ Portfolio new.
	otherParentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	parentPortfolio registerAsset: innerPortfolio.
	parentPortfolio registerAsset: anAccount.
	otherParentPortfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:53:53'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:54:28'!
                            test24
	
	| parentPortfolio otherParentPortfolio innerPortfolio anAccount |
	
	parentPortfolio _ Portfolio new.
	otherParentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	parentPortfolio registerAsset: innerPortfolio.
	parentPortfolio registerAsset: anAccount.
	otherParentPortfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:24:51' prior: 50336169!
                              test23
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio registerAsset: innerPortfolio.
	mainPortfolio registerAsset: anAccount.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 20:54:52'!
FAILURE!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 20:55:11'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:56:35' prior: 50335873 overrides: 16896425!
                            initialize

	financialAssets _ OrderedCollection new.
	parentPortfolio _ OrderedCollection new.! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'AW 5/23/2021 20:56:38'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets parentPortfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:56:38' prior: 50335766!
                   addedToPortfolio: aPortfolio 
	
	parentPortfolios := aPortfolio.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:56:38' prior: 50335998!
                               validateAddAsset: aFinancialAsset
	
	(((self = aFinancialAsset) 
		or: [ self hasAsset: aFinancialAsset ]) 
		or: [ parentPortfolios ifNotNil: [ parentPortfolios hasAsset: aFinancialAsset ] ifNil: [ false ] ])
			ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:56:38' prior: 50336233 overrides: 16896425!
         initialize

	financialAssets _ OrderedCollection new.
	parentPortfolios _ OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:56:52' prior: 50336248!
                               addedToPortfolio: aPortfolio 
	
	parentPortfolios add: aPortfolio.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 20:57:42' prior: 50336254!
                             validateAddAsset: aFinancialAsset
	
	(((self = aFinancialAsset) 
		or: [ self hasAsset: aFinancialAsset ]) 
		or: [ parentPortfolios anySatisfy: [ :aPortfolio | aPortfolio hasAsset: aFinancialAsset ] ])
			ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].! !

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 20:57:49'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:58:30'!
  test25
	
	| parentPortfolio otherParentPortfolio innerPortfolio anAccount |
	
	parentPortfolio _ Portfolio new.
	otherParentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	parentPortfolio registerAsset: innerPortfolio.
	parentPortfolio registerAsset: anAccount.
	otherParentPortfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:58:36' prior: 50336365!
                              test25
	
	| rootPortfolio otherParentPortfolio innerPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	otherParentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	rootPortfolio registerAsset: innerPortfolio.
	rootPortfolio registerAsset: anAccount.
	otherParentPortfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:58:59' prior: 50336385!
      test25
	
	| rootPortfolio firstChildPorfolio innerPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	firstChildPorfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	rootPortfolio registerAsset: innerPortfolio.
	rootPortfolio registerAsset: anAccount.
	firstChildPorfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:59:08' prior: 50336404!
            test25
	
	| rootPortfolio childPorfolio innerPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	childPorfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	rootPortfolio registerAsset: innerPortfolio.
	rootPortfolio registerAsset: anAccount.
	childPorfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 20:59:22' prior: 50336423!
                           test25
	
	| rootPortfolio childPorfolio grandChildPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	childPorfolio _ Portfolio new.
	grandChildPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	rootPortfolio registerAsset: grandChildPortfolio.
	rootPortfolio registerAsset: anAccount.
	childPorfolio registerAsset: grandChildPortfolio.
		
	self should: [ 		grandChildPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 21:00:11' prior: 50336442!
  test25
	
	| rootPortfolio childPortfolio grandChildPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	childPortfolio _ Portfolio new.
	grandChildPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	rootPortfolio registerAsset: childPortfolio .
	rootPortfolio registerAsset: anAccount.
	childPortfolio registerAsset: grandChildPortfolio.
		
	self should: [ 		grandChildPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:00:11'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:04:41' prior: 50336274!
              addedToPortfolio: aPortfolio 
	
	parentPortfolios add: aPortfolio rootPorfolios.! !

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:04:45'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:04:55'!
               rootPorfolios
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:05:03' prior: 50336491!
                       rootPorfolios
	^parentPortfolios .! !

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:05:07'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:05:47' prior: 50336483!
             addedToPortfolio: aPortfolio 
	
	parentPortfolios addAll: aPortfolio rootPorfolios.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:06:00' prior: 50336503!
            addedToPortfolio: aPortfolio 
	
	parentPortfolios addAll: aPortfolio rootPorfolios.! !

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:06:03'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:07:49' prior: 50336267 overrides: 16896425!
      initialize

	financialAssets _ OrderedCollection new.
	parentPortfolios _ OrderedCollection with: self.! !

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:07:57'!
PASSED!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'AW 5/23/2021 21:08:05'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets rootPortfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:08:05' prior: 50336496!
       rootPorfolios
	^rootPortfolios .! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:08:05' prior: 50336518 overrides: 16896425!
           initialize

	financialAssets _ OrderedCollection new.
	rootPortfolios _ OrderedCollection with: self.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:08:05' prior: 50336280!
                          validateAddAsset: aFinancialAsset
	
	(((self = aFinancialAsset) 
		or: [ self hasAsset: aFinancialAsset ]) 
		or: [ rootPortfolios anySatisfy: [ :aPortfolio | aPortfolio hasAsset: aFinancialAsset ] ])
			ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:08:05' prior: 50336509!
      addedToPortfolio: aPortfolio 
	
	rootPortfolios addAll: aPortfolio rootPorfolios.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:08:36' prior: 50336621!
              validateAddAsset: aFinancialAsset
	
	(rootPortfolios anySatisfy: [ :aPortfolio | aPortfolio hasAsset: aFinancialAsset ])
			ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].! !

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 21:08:38'!
FAILURE!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:08:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 21:08:38'!
FAILURE!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 21:08:44'!
FAILURE!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:08:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 21:08:44'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:09:18' prior: 50336639!
    validateAddAsset: aFinancialAsset
	
	((self = aFinancialAsset) 
		or: [ rootPortfolios anySatisfy: [ :aPortfolio | aPortfolio hasAsset: aFinancialAsset ] ])
			ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].! !

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:09:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:10:37'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 21:11:52'!
                         test26
	
	| parentPortfolio otherParentPortfolio innerPortfolio anAccount |
	
	parentPortfolio _ Portfolio new.
	otherParentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	
	parentPortfolio registerAsset: innerPortfolio.
	parentPortfolio registerAsset: anAccount.
	otherParentPortfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: parentPortfolio. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 21:12:04' prior: 50336969!
                           test26
	
	| parentPortfolio otherParentPortfolio innerPortfolio |
	
	parentPortfolio _ Portfolio new.
	otherParentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	
	parentPortfolio registerAsset: innerPortfolio.
	otherParentPortfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: parentPortfolio. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 21:12:06'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:13:37' prior: 50336806!
                           validateAddAsset: aFinancialAsset
	
	(rootPortfolios anySatisfy: [ :aPortfolio | aPortfolio = aFinancialAsset or: [aPortfolio hasAsset: aFinancialAsset ]] )
			ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].! !

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 21:13:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 21:13:41'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:19:53'!
           XXX: aFinancialAsset 

	^(self = aFinancialAsset) or: [ self hasAsset: aFinancialAsset ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:20:17' prior: 50337008!
       validateAddAsset: aFinancialAsset
	
	(rootPortfolios anySatisfy: [ :aPortfolio | aPortfolio XXX: aFinancialAsset ] )
			ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:23:04'!
          isOnAnyRootPortfolio: aFinancialAsset

	^ rootPortfolios anySatisfy: [ :aPortfolio | aPortfolio XXX: aFinancialAsset ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:23:04' prior: 50337103!
         validateAddAsset: aFinancialAsset
	
	(self isOnAnyRootPortfolio: aFinancialAsset )
			ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:23:14' prior: 50337119!
                            validateAddAsset: aFinancialAsset
	
	(self isOnAnyRootPortfolio: aFinancialAsset)
		ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:24:33'!
              isSelfOrIsInPortfolio: aFinancialAsset 

	^(self = aFinancialAsset) or: [ self hasAsset: aFinancialAsset ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:24:34' prior: 50337112!
                     isOnAnyRootPortfolio: aFinancialAsset

	^ rootPortfolios anySatisfy: [ :aPortfolio | aPortfolio isSelfOrIsInPortfolio: aFinancialAsset ]! !

!methodRemoval: Portfolio #XXX: stamp: 'AW 5/23/2021 21:24:34'!
XXX: aFinancialAsset 

	^(self = aFinancialAsset) or: [ self hasAsset: aFinancialAsset ]!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 21:30:20' prior: 50336988!
                               test26
	
	| parentPortfolio otherParentPortfolio innerPortfolio |
	
	parentPortfolio _ Portfolio new.
	otherParentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	
	parentPortfolio registerAsset: innerPortfolio.
	otherParentPortfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: parentPortfolio. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 21:30:28' prior: 50337156!
                test26
	
	| rootPortfolio otherParentPortfolio innerPortfolio |
	
	rootPortfolio _ Portfolio new.
	otherParentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	
	rootPortfolio registerAsset: innerPortfolio.
	otherParentPortfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: rootPortfolio. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 21:30:59' prior: 50337173!
                        test26
	
	| rootPortfolio leftPortfolio innerPortfolio |
	
	rootPortfolio _ Portfolio new.
	leftPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	
	rootPortfolio registerAsset: innerPortfolio.
	leftPortfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: rootPortfolio. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 21:31:13' prior: 50337190!
             test26
	
	| rootPortfolio leftPortfolio rightPortfolio |
	
	rootPortfolio _ Portfolio new.
	leftPortfolio _ Portfolio new.
	rightPortfolio _ Portfolio new.
	
	rootPortfolio registerAsset: rightPortfolio.
	leftPortfolio registerAsset: rightPortfolio.
		
	self should: [ 		rightPortfolio registerAsset: rootPortfolio. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 21:33:38' prior: 50337206!
             test26
	
	| rootPortfolio leftPortfolio rightPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	leftPortfolio _ Portfolio new.
	rightPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
		
	rootPortfolio registerAsset: leftPortfolio.
	leftPortfolio registerAsset: anAccount.
	rightPortfolio registerAsset: anAccount.
		
	self should: [ rootPortfolio registerAsset: rightPortfolio. ]
		raise: Error
		withMessageText: Portfolio accountAlreadyInPortfolioErrorDescription.
! !

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 21:34:07'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:42:15' prior: 50337128!
        validateAddAsset: aFinancialAsset
	
	(aFinancialAsset leaves anySatisfy: [ :leave | self isOnAnyRootPortfolio: leave ])
		ifTrue: [^self error: self class accountAlreadyInPortfolioErrorDescription ].! !

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 21:42:27'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'assertions' stamp: 'AW 5/23/2021 21:42:37' overrides: 16927375!
assert: aFalse description: aBlockClosure 
	self shouldBeImplemented.! !

!methodRemoval: ReceptiveAccountTest #assert:description: stamp: 'AW 5/23/2021 21:43:30'!
assert: aFalse description: aBlockClosure 
	self shouldBeImplemented.!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 21:43:35'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:43:48'!
                        leaves
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:50:58' prior: 50337268!
                              leaves
	^financialAssets 
		ifEmpty: [ OrderedCollection with: self ] 
		ifNotEmpty: [ financialAssets inject: OrderedCollection new into: [ :leaves :asset | leaves addAll: asset leaves ].]! !

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 21:51:03'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:51:12'!
                           leaves
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:51:24' prior: 50337285!
                       leaves
	OrderedCollection with: self.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:51:29' prior: 50337290!
                   leaves
	^OrderedCollection with: self.! !

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 21:51:31'!
PASSED!
!Portfolio class methodsFor: 'errors' stamp: 'AW 5/23/2021 21:53:22'!
                         duplicatedAssetErrorDescription
	^'The given account is already in the portfolio tree'! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:53:22' prior: 50335345!
                              test22
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio registerAsset: innerPortfolio.
	innerPortfolio registerAsset: anAccount.
		
	self should: [ 	mainPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:53:22' prior: 50337222!
                    test26
	
	| rootPortfolio leftPortfolio rightPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	leftPortfolio _ Portfolio new.
	rightPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
		
	rootPortfolio registerAsset: leftPortfolio.
	leftPortfolio registerAsset: anAccount.
	rightPortfolio registerAsset: anAccount.
		
	self should: [ rootPortfolio registerAsset: rightPortfolio. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:53:22' prior: 50335134!
                         test20
	
	| mainPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio registerAsset: anAccount.
	
	self should: [mainPortfolio registerAsset: anAccount.]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:53:22' prior: 50336211!
                       test23
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio registerAsset: innerPortfolio.
	mainPortfolio registerAsset: anAccount.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:53:22' prior: 50336191!
                   test24
	
	| parentPortfolio otherParentPortfolio innerPortfolio anAccount |
	
	parentPortfolio _ Portfolio new.
	otherParentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	parentPortfolio registerAsset: innerPortfolio.
	parentPortfolio registerAsset: anAccount.
	otherParentPortfolio registerAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:53:22' prior: 50336461!
                          test25
	
	| rootPortfolio childPortfolio grandChildPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	childPortfolio _ Portfolio new.
	grandChildPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	rootPortfolio registerAsset: childPortfolio .
	rootPortfolio registerAsset: anAccount.
	childPortfolio registerAsset: grandChildPortfolio.
		
	self should: [ 		grandChildPortfolio registerAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:53:22' prior: 50335246!
                               test21
	
	| mainPortfolio |
	
	mainPortfolio _ Portfolio new.
		
	self should: [ 	mainPortfolio registerAsset: mainPortfolio. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 21:53:22' prior: 50337243!
                  validateAddAsset: aFinancialAsset
	
	(aFinancialAsset leaves anySatisfy: [ :leave | self isOnAnyRootPortfolio: leave ])
		ifTrue: [^self error: self class duplicatedAssetErrorDescription ].! !

!methodRemoval: Portfolio class #accountAlreadyInPortfolioErrorDescription stamp: 'AW 5/23/2021 21:53:22'!
accountAlreadyInPortfolioErrorDescription
	^'The given account is already in the portfolio tree'!
!Portfolio class methodsFor: 'errors' stamp: 'AW 5/23/2021 21:58:40' prior: 50337378!
                           duplicatedAssetErrorDescription
	^'This leads to an asset being duplicated in a portfolio.'.! !

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 21:58:59'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 22:05:34' prior: 50337273!
            leaves
	^financialAssets 
		ifEmpty: [ OrderedCollection new ] 
		ifNotEmpty: [ financialAssets inject: OrderedCollection new into: [ :leaves :asset | leaves addAll: asset leaves ].]! !

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 22:05:35'!
FAILURE!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 22:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 22:05:35'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 22:05:41' prior: 50337600!
                               leaves
	^financialAssets 
		ifEmpty: [ OrderedCollection with: self ] 
		ifNotEmpty: [ financialAssets inject: OrderedCollection new into: [ :leaves :asset | leaves addAll: asset leaves ].]! !

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 22:05:42'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 22:10:32'!
                              test27
	
	| aPortfolio |
	
	aPortfolio _ Portfolio new.
	
	self assert: aPortfolio transactions isEmpty.! !

!testRun: #ReceptiveAccountTest #test27 stamp: 'AW 5/23/2021 22:10:33'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 22:10:40'!
                       transactions
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 22:10:52' prior: 50337788!
                        transactions
	OrderedCollection new.! !

!testRun: #ReceptiveAccountTest #test27 stamp: 'AW 5/23/2021 22:10:53'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 22:11:14' prior: 50337793!
           transactions
	^OrderedCollection new.! !

!testRun: #ReceptiveAccountTest #test27 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test27 stamp: 'AW 5/23/2021 22:11:15'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 22:12:31'!
     test28
	
	| aPortfolio anAccount |
	
	aPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	Deposit register: 200 on: anAccount.
	
	self assert: aPortfolio transactions size equals: 1.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 22:13:03' prior: 50337885!
                              test28
	
	| aPortfolio anAccount aTransaction |
	
	aPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 200 on: anAccount.
	
	self assert: aPortfolio transactions size equals: 1.
	self assert: aPortfolio transactions first equals: aTransaction.! !

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:13:13'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 22:18:52' prior: 50337800!
           transactions
	^financialAssets inject: OrderedCollection new into: [ :transactions :anAsset | transactions addAll: anAsset transactions. ]! !

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:19:55'!
FAILURE!

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:20:01'!
FAILURE!

financialAssets inject: OrderedCollection new into: [ :transactions :anAsset | transactions addAll: anAsset transactions. ]!

self size !

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:20:48'!
FAILURE!

^financialAssets inject: OrderedCollection new into: [ :transactions :anAsset | transactions addAll: anAsset transactions. ]!

self size!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'AW 5/23/2021 22:22:47' prior: 50337895!
            test28
	
	| aPortfolio anAccount aTransaction |
	
	aPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	aPortfolio registerAsset: anAccount.
	
	aTransaction _ Deposit register: 200 on: anAccount.
	
	self assert: aPortfolio transactions size equals: 1.
	self assert: aPortfolio transactions first equals: aTransaction.! !

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test27 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:22:52'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 22:23:35' prior: 50337691!
                              leaves
	^financialAssets 
		ifEmpty: [ OrderedCollection with: self ] 
		ifNotEmpty: [ financialAssets collect: [ :asset | asset leaves ].]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 22:24:23' prior: 50337910!
                    transactions
	^financialAssets collect: [ :anAsset |anAsset transactions. ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 22:24:24' prior: 50338040!
                    transactions
	^financialAssets collect: [ :anAsset | anAsset transactions. ]! !

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:24:26'!
FAILURE!

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:25:05'!
FAILURE!

aPortfolio transactions!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 22:29:28' prior: 50338046!
                     transactions
	^(financialAssets collect: [ :anAsset | anAsset transactions. ]) flatten.! !

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 22:29:30'!
FAILURE!

!testRun: #ReceptiveAccountTest #test27 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:29:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 22:29:30'!
FAILURE!

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 22:29:40'!
FAILURE!

!testRun: #ReceptiveAccountTest #test27 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:29:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 22:29:40'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AW 5/23/2021 22:30:06' prior: 50338032!
                leaves
	^financialAssets 
		ifEmpty: [ OrderedCollection with: self ] 
		ifNotEmpty: [ (financialAssets collect: [ :asset | asset leaves ]) flatten ]! !

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test27 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'AW 5/23/2021 22:30:10'!
PASSED!

----QUIT----(23 May 2021 22:30:57) Porfolio.image priorSource: 93512!

----STARTUP---- (24 May 2021 20:19:38) as /home/nikita/r/f/ingsoft1/Inge1-ejercicios/17-Portfolio 1/Porfolio.image!

!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:37:04'!
    assetGeneratesDuplication: aFinancialAsset

	^ aFinancialAsset leaves anySatisfy: [ :leave | self isOnAnyRootPortfolio: leave ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:37:04' prior: 50337499!
validateAddAsset: aFinancialAsset
	
	(self assetGeneratesDuplication: aFinancialAsset)
		ifTrue: [^self error: self class duplicatedAssetErrorDescription ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:48:11'!
                   isOnAnyTopmostPortfolio: aFinancialAsset

	^ rootPortfolios anySatisfy: [ :aPortfolio | aPortfolio isSelfOrIsInPortfolio: aFinancialAsset ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:48:11' prior: 50338334!
                    assetGeneratesDuplication: aFinancialAsset

	^ aFinancialAsset leaves anySatisfy: [ :leave | self isOnAnyTopmostPortfolio: leave ]! !

!methodRemoval: Portfolio #isOnAnyRootPortfolio: stamp: 'nz 5/24/2021 20:48:11'!
isOnAnyRootPortfolio: aFinancialAsset

	^ rootPortfolios anySatisfy: [ :aPortfolio | aPortfolio isSelfOrIsInPortfolio: aFinancialAsset ]!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:51:20'!
                 isOnAnotherPortfolioThatIncludesMe: aFinancialAsset

	^ rootPortfolios anySatisfy: [ :aPortfolio | aPortfolio isSelfOrIsInPortfolio: aFinancialAsset ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:51:20' prior: 50338357!
         assetGeneratesDuplication: aFinancialAsset

	^ aFinancialAsset leaves anySatisfy: [ :leave | self isOnAnotherPortfolioThatIncludesMe: leave ]! !

!methodRemoval: Portfolio #isOnAnyTopmostPortfolio: stamp: 'nz 5/24/2021 20:51:20'!
isOnAnyTopmostPortfolio: aFinancialAsset

	^ rootPortfolios anySatisfy: [ :aPortfolio | aPortfolio isSelfOrIsInPortfolio: aFinancialAsset ]!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:54:38' prior: 50338379!
                assetGeneratesDuplication: aFinancialAsset
	"Usamos `leaves` porque reduce busquedas"
	^ aFinancialAsset leaves anySatisfy: [ :asset | self isOnAnotherPortfolioThatIncludesMe: asset ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:54:43' prior: 50338394!
        assetGeneratesDuplication: aFinancialAsset

	"Usamos `leaves` porque reduce busquedas"
	^ aFinancialAsset leaves anySatisfy: [ :asset | self isOnAnotherPortfolioThatIncludesMe: asset ]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:55:11'!
                       validateAssetInclusion: aFinancialAsset
	
	(self assetGeneratesDuplication: aFinancialAsset)
		ifTrue: [^self error: self class duplicatedAssetErrorDescription ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:55:11' prior: 50335990!
                             registerAsset: aFinancialAsset 
	
	self validateAssetInclusion: aFinancialAsset.

	aFinancialAsset addedToPortfolio: self.
	financialAssets add: aFinancialAsset.! !

!methodRemoval: Portfolio #validateAddAsset: stamp: 'nz 5/24/2021 20:55:11'!
validateAddAsset: aFinancialAsset
	
	(self assetGeneratesDuplication: aFinancialAsset)
		ifTrue: [^self error: self class duplicatedAssetErrorDescription ].!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:58:22'!
  addAsset: aFinancialAsset

	aFinancialAsset addedToPortfolio: self.
	financialAssets add: aFinancialAsset! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:58:22' prior: 50338421!
                      registerAsset: aFinancialAsset 
	
	self validateAssetInclusion: aFinancialAsset.

	self addAsset: aFinancialAsset.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 20:58:34' prior: 50338436!
             addAsset: aFinancialAsset

	financialAssets add: aFinancialAsset.
	aFinancialAsset addedToPortfolio: self.! !

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test27 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'nz 5/24/2021 20:58:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test27 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'nz 5/24/2021 20:58:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test27 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'nz 5/24/2021 20:58:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 20:59:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 20:59:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test27 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'nz 5/24/2021 21:00:17'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:06' prior: 50338443!
                 registerAsset: aFinancialAsset 
	
	self validateAssetInclusion: aFinancialAsset.

	financialAssets add: aFinancialAsset.
	aFinancialAsset addedToPortfolio: self.! !

!methodRemoval: Portfolio #addAsset: stamp: 'nz 5/24/2021 21:04:08'!
addAsset: aFinancialAsset

	financialAssets add: aFinancialAsset.
	aFinancialAsset addedToPortfolio: self.!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44'!
                            addAsset: aFinancialAsset 
	
	self validateAssetInclusion: aFinancialAsset.

	financialAssets add: aFinancialAsset.
	aFinancialAsset addedToPortfolio: self.! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50337489!
                        test21
	
	| mainPortfolio |
	
	mainPortfolio _ Portfolio new.
		
	self should: [ 	mainPortfolio addAsset: mainPortfolio. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50334893!
            test09
	
	| portfolio anAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	
	portfolio addAsset: anAccount.
	
	self assert: portfolio balance equals: 100.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50334991!
                      test17
	
	| mainPortfolio secondPortfolio thirdPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	secondPortfolio addAsset: anAccount.
	
	mainPortfolio addAsset: secondPortfolio.
	mainPortfolio addAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50334919!
           test13
	
	| portfolio anAccount anotherAccount anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio addAsset: anAccount.
	
	self deny: (portfolio hasRegistered: anotherTransaction).

" un portfolio con una cuenta que tiene dos tx
  un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50334806!
                           test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	"anotherPortfolio registerAccount: anAccount."
	portfolio addAsset: anotherPortfolio.
	
	self deny: (portfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50337385!
             test22
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio addAsset: innerPortfolio.
	innerPortfolio addAsset: anAccount.
		
	self should: [ 	mainPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50334951!
   test14
	
	| portfolio anAccount anotherAccount aTransaction anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio addAsset: anAccount.
	portfolio addAsset: anotherAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
	self assert: (portfolio hasRegistered: anotherTransaction).

"un portfolio con dos cuenta con una tx cada una
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50337401!
                 test26
	
	| rootPortfolio leftPortfolio rightPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	leftPortfolio _ Portfolio new.
	rightPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
		
	rootPortfolio addAsset: leftPortfolio.
	leftPortfolio addAsset: anAccount.
	rightPortfolio addAsset: anAccount.
		
	self should: [ rootPortfolio addAsset: rightPortfolio. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50337433!
             test23
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio addAsset: innerPortfolio.
	mainPortfolio addAsset: anAccount.
		
	self should: [ 		innerPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50337934!
  test28
	
	| aPortfolio anAccount aTransaction |
	
	aPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	aPortfolio addAsset: anAccount.
	
	aTransaction _ Deposit register: 200 on: anAccount.
	
	self assert: aPortfolio transactions size equals: 1.
	self assert: aPortfolio transactions first equals: aTransaction.! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50334939!
                 test11
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio addAsset: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50335009!
                test18
	
	| mainPortfolio secondPortfolio thirdPortfolio anotherAccount anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	Deposit register: 500 on: anAccount.
	secondPortfolio addAsset: anAccount.
	
	anotherAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 300 on: anotherAccount.
	thirdPortfolio addAsset: anotherAccount.
	
	mainPortfolio addAsset: secondPortfolio.
	mainPortfolio addAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50335032!
                             test19
	
	| mainPortfolio secondPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	
	secondPortfolio _ Portfolio new.
	mainPortfolio addAsset: secondPortfolio.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio addAsset: anAccount.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50337420!
    test20
	
	| mainPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio addAsset: anAccount.
	
	self should: [mainPortfolio addAsset: anAccount.]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50334904!
 test10
	
	| portfolio anAccount anotherAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	Deposit register: 50 on: anAccount.
	
	portfolio addAsset: anAccount.
	portfolio addAsset: anotherAccount .
	
	self assert: portfolio balance equals: 150.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50334974!
                    test15
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	anotherPortfolio addAsset: anAccount.
	portfolio addAsset: anotherPortfolio.
	
	self assert: (portfolio hasRegistered: aTransaction).

"
  un portfolio con un portfolio con una cuenta que tiene una tx
"! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50337449!
          test24
	
	| parentPortfolio otherParentPortfolio innerPortfolio anAccount |
	
	parentPortfolio _ Portfolio new.
	otherParentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	parentPortfolio addAsset: innerPortfolio.
	parentPortfolio addAsset: anAccount.
	otherParentPortfolio addAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'nz 5/24/2021 21:04:44' prior: 50337469!
              test25
	
	| rootPortfolio childPortfolio grandChildPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	childPortfolio _ Portfolio new.
	grandChildPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	rootPortfolio addAsset: childPortfolio .
	rootPortfolio addAsset: anAccount.
	childPortfolio addAsset: grandChildPortfolio.
		
	self should: [ 		grandChildPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !

!methodRemoval: Portfolio #registerAsset: stamp: 'nz 5/24/2021 21:04:44'!
registerAsset: aFinancialAsset 
	
	self validateAssetInclusion: aFinancialAsset.

	financialAssets add: aFinancialAsset.
	aFinancialAsset addedToPortfolio: self.!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test27 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'nz 5/24/2021 21:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test27 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'nz 5/24/2021 21:05:12'!
PASSED!
!FinancialAsset methodsFor: 'private' stamp: 'nz 5/24/2021 21:08:13'!
                     leaves

	self subclassResponsibility .! !
!FinancialAsset methodsFor: 'transactions' stamp: 'nz 5/24/2021 21:24:27'!
           transactions

	self subclassResponsibility .! !
!FinancialAsset methodsFor: 'private' stamp: 'nz 5/24/2021 21:29:16'!
          addedToPortfolio: aPortfolio

	self subclassResponsibility .! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test27 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'nz 5/24/2021 21:29:19'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:38:59' prior: 50338866!
             test13
	
	| portfolio anAccount anotherAccount anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio addAsset: anAccount.
	
	self deny: (portfolio hasRegistered: anotherTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:39:04' prior: 50338919!
            test14
	
	| portfolio anAccount anotherAccount aTransaction anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio addAsset: anAccount.
	portfolio addAsset: anotherAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
	self assert: (portfolio hasRegistered: anotherTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:39:11' prior: 50339066!
                  test15
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	anotherPortfolio addAsset: anAccount.
	portfolio addAsset: anotherPortfolio.
	
	self assert: (portfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:39:19' prior: 50338887!
                            test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio addAsset: anotherPortfolio.
	
	self deny: (portfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:40:09' prior: 50339441!
           test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones
	
	| portfolio emptyPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	emptyPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio addAsset: emptyPortfolio.
	
	self deny: (portfolio hasRegistered: aTransaction).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:40:55'!
 test08EmptyPortfolioHasZeroBalance
	
	| portfolio |
	
	portfolio _ Portfolio new.
	
	self assert: portfolio balance equals: 0.
! !

!methodRemoval: ReceptiveAccountTest #test08 stamp: 'nz 5/24/2021 21:42:32'!
test08
	
	| portfolio |
	
	portfolio _ Portfolio new.
	
	self assert: portfolio balance equals: 0.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:43:55'!
test09BalanceOfPortfolioWithOneAccountEqualsToAccountBalance
	
	| portfolio anAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	
	portfolio addAsset: anAccount.
	
	self assert: portfolio balance equals: 100.
! !

!methodRemoval: ReceptiveAccountTest #test09 stamp: 'nz 5/24/2021 21:43:57'!
test09
	
	| portfolio anAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	
	portfolio addAsset: anAccount.
	
	self assert: portfolio balance equals: 100.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:44:44'!
                test10BalanceOfPortfolioWithManyAccountsEqualsToTheSumOfTheirBalances
	
	| portfolio anAccount anotherAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	Deposit register: 50 on: anAccount.
	
	portfolio addAsset: anAccount.
	portfolio addAsset: anotherAccount .
	
	self assert: portfolio balance equals: 150.
! !

!methodRemoval: ReceptiveAccountTest #test10 stamp: 'nz 5/24/2021 21:44:46'!
test10
	
	| portfolio anAccount anotherAccount |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 100 on: anAccount.
	Deposit register: 50 on: anAccount.
	
	portfolio addAsset: anAccount.
	portfolio addAsset: anotherAccount .
	
	self assert: portfolio balance equals: 150.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:46:02'!
   test11PortfolioWithOneAccountHasRegisteredTheTransactionsOfThatAccount
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio addAsset: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
! !

!methodRemoval: ReceptiveAccountTest #test11 stamp: 'nz 5/24/2021 21:46:03'!
test11
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio addAsset: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:47:39'!
                          test12PortfolioHasNotRegisteredATransactionOfAnExternalAccount
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self deny: (portfolio hasRegistered: aTransaction).
! !

!methodRemoval: ReceptiveAccountTest #test12 stamp: 'nz 5/24/2021 21:47:42'!
test12
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self deny: (portfolio hasRegistered: aTransaction).
!

!methodRemoval: ReceptiveAccountTest #test13 stamp: 'nz 5/24/2021 21:49:52'!
test13
	
	| portfolio anAccount anotherAccount anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio addAsset: anAccount.
	
	self deny: (portfolio hasRegistered: anotherTransaction).
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:50:43'!
    test13PortfolioWithMultipleAccountsHasRegisteredAllTheirTransactions
	
	| portfolio anAccount anotherAccount aTransaction anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio addAsset: anAccount.
	portfolio addAsset: anotherAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
	self assert: (portfolio hasRegistered: anotherTransaction).
! !

!methodRemoval: ReceptiveAccountTest #test14 stamp: 'nz 5/24/2021 21:50:47'!
test14
	
	| portfolio anAccount anotherAccount aTransaction anotherTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	anotherAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	anotherTransaction _ Deposit register: 200 on: anotherAccount.
	
	portfolio addAsset: anAccount.
	portfolio addAsset: anotherAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
	self assert: (portfolio hasRegistered: anotherTransaction).
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:53:57'!
    test14PortfolioWithNestedPortfolioHasRegisteredAccountTransactions
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anotherPortfolio _ Portfolio new.
	portfolio addAsset: anotherPortfolio.
	
	anAccount _ ReceptiveAccount new.
	anotherPortfolio addAsset: anAccount.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self assert: (portfolio hasRegistered: aTransaction).
! !

!methodRemoval: ReceptiveAccountTest #test15 stamp: 'nz 5/24/2021 21:54:07'!
test15
	
	| portfolio anotherPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	anotherPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	anotherPortfolio addAsset: anAccount.
	portfolio addAsset: anotherPortfolio.
	
	self assert: (portfolio hasRegistered: aTransaction).
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:57:48'!
                          test15NotEmptyPortfolioHasNotRegisteredATransactionOfAnExternalAccount
	
	| portfolio emptyPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	emptyPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio addAsset: emptyPortfolio.
	
	self deny: (portfolio hasRegistered: aTransaction).
! !

!methodRemoval: ReceptiveAccountTest #test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones stamp: 'nz 5/24/2021 21:57:50'!
test16UnPortfolioAdentroDeOtroPortfolioVacioNoTieneTransacciones
	
	| portfolio emptyPortfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	emptyPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	portfolio addAsset: emptyPortfolio.
	
	self deny: (portfolio hasRegistered: aTransaction).
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 21:57:59'!
test12EmptyPortfolioHasNotRegisteredATransactionOfAnExternalAccount
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self deny: (portfolio hasRegistered: aTransaction).
! !

!methodRemoval: ReceptiveAccountTest #test12PortfolioHasNotRegisteredATransactionOfAnExternalAccount stamp: 'nz 5/24/2021 21:58:01'!
test12PortfolioHasNotRegisteredATransactionOfAnExternalAccount
	
	| portfolio anAccount aTransaction |
	
	portfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self deny: (portfolio hasRegistered: aTransaction).
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:00:45'!
                     test16PortfolioWithMultipleNestedPortfoliosHasRegisteredAllTheirTransactions
	
	| mainPortfolio secondPortfolio thirdPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	secondPortfolio addAsset: anAccount.
	
	mainPortfolio addAsset: secondPortfolio.
	mainPortfolio addAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !

!methodRemoval: ReceptiveAccountTest #test17 stamp: 'nz 5/24/2021 22:00:47'!
test17
	
	| mainPortfolio secondPortfolio thirdPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	secondPortfolio addAsset: anAccount.
	
	mainPortfolio addAsset: secondPortfolio.
	mainPortfolio addAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:02:41' prior: 50339001!
                          test18
	
	| mainPortfolio secondPortfolio thirdPortfolio anotherAccount anAccount aTransaction anotherTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	secondPortfolio addAsset: anAccount.
	
	anotherAccount _ ReceptiveAccount new.
	anotherTransaction _ Deposit register: 300 on: anotherAccount.
	thirdPortfolio addAsset: anotherAccount.
	
	mainPortfolio addAsset: secondPortfolio.
	mainPortfolio addAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
	self assert: (mainPortfolio hasRegistered: anotherTransaction).
! !

!methodRemoval: ReceptiveAccountTest #test16PortfolioWithMultipleNestedPortfoliosHasRegisteredAllTheirTransactions stamp: 'nz 5/24/2021 22:03:31'!
test16PortfolioWithMultipleNestedPortfoliosHasRegisteredAllTheirTransactions
	
	| mainPortfolio secondPortfolio thirdPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	secondPortfolio addAsset: anAccount.
	
	mainPortfolio addAsset: secondPortfolio.
	mainPortfolio addAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:03:38'!
             test16PortfolioWithMultipleNestedPortfoliosHasRegisteredAllTheirTransactions
	
	| mainPortfolio secondPortfolio thirdPortfolio anotherAccount anAccount aTransaction anotherTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	secondPortfolio addAsset: anAccount.
	
	anotherAccount _ ReceptiveAccount new.
	anotherTransaction _ Deposit register: 300 on: anotherAccount.
	thirdPortfolio addAsset: anotherAccount.
	
	mainPortfolio addAsset: secondPortfolio.
	mainPortfolio addAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
	self assert: (mainPortfolio hasRegistered: anotherTransaction).
! !

!methodRemoval: ReceptiveAccountTest #test18 stamp: 'nz 5/24/2021 22:03:39'!
test18
	
	| mainPortfolio secondPortfolio thirdPortfolio anotherAccount anAccount aTransaction anotherTransaction |
	
	mainPortfolio _ Portfolio new.
	secondPortfolio _ Portfolio new.
	thirdPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	aTransaction _ Deposit register: 500 on: anAccount.
	secondPortfolio addAsset: anAccount.
	
	anotherAccount _ ReceptiveAccount new.
	anotherTransaction _ Deposit register: 300 on: anotherAccount.
	thirdPortfolio addAsset: anotherAccount.
	
	mainPortfolio addAsset: secondPortfolio.
	mainPortfolio addAsset: thirdPortfolio.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
	self assert: (mainPortfolio hasRegistered: anotherTransaction).
!

!testRun: #ReceptiveAccountTest #test16PortfolioWithMultipleNestedPortfoliosHasRegisteredAllTheirTransactions stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPortfolioHasZeroBalance stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test09BalanceOfPortfolioWithOneAccountEqualsToAccountBalance stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test10BalanceOfPortfolioWithManyAccountsEqualsToTheSumOfTheirBalances stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test11PortfolioWithOneAccountHasRegisteredTheTransactionsOfThatAccount stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test12EmptyPortfolioHasNotRegisteredATransactionOfAnExternalAccount stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithMultipleAccountsHasRegisteredAllTheirTransactions stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test14PortfolioWithNestedPortfolioHasRegisteredAccountTransactions stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test15NotEmptyPortfolioHasNotRegisteredATransactionOfAnExternalAccount stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioWithMultipleNestedPortfoliosHasRegisteredAllTheirTransactions stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test21 stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test22 stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test23 stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test24 stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test25 stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test26 stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test27 stamp: 'nz 5/24/2021 22:03:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test28 stamp: 'nz 5/24/2021 22:03:53'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:05:01'!
           test17PortfolioWithAnAccountAndAnEmptyPortfolioHasAccountTransactions
	
	| mainPortfolio secondPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	
	secondPortfolio _ Portfolio new.
	mainPortfolio addAsset: secondPortfolio.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio addAsset: anAccount.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
! !

!methodRemoval: ReceptiveAccountTest #test19 stamp: 'nz 5/24/2021 22:05:07'!
test19
	
	| mainPortfolio secondPortfolio anAccount aTransaction |
	
	mainPortfolio _ Portfolio new.
	
	secondPortfolio _ Portfolio new.
	mainPortfolio addAsset: secondPortfolio.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio addAsset: anAccount.
	
	aTransaction _ Deposit register: 500 on: anAccount.
	
	self assert: (mainPortfolio hasRegistered: aTransaction).
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:05:51'!
   test18CannotAddAnAccountTwiceToAPortfolio
	
	| mainPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio addAsset: anAccount.
	
	self should: [mainPortfolio addAsset: anAccount.]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !

!methodRemoval: ReceptiveAccountTest #test20 stamp: 'nz 5/24/2021 22:05:53'!
test20
	
	| mainPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	
	anAccount _ ReceptiveAccount new.
	mainPortfolio addAsset: anAccount.
	
	self should: [mainPortfolio addAsset: anAccount.]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:06:14'!
                         test19CantAddPortfolioToItself
	
	| mainPortfolio |
	
	mainPortfolio _ Portfolio new.
		
	self should: [ 	mainPortfolio addAsset: mainPortfolio. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !

!methodRemoval: ReceptiveAccountTest #test21 stamp: 'nz 5/24/2021 22:06:16'!
test21
	
	| mainPortfolio |
	
	mainPortfolio _ Portfolio new.
		
	self should: [ 	mainPortfolio addAsset: mainPortfolio. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:07:13'!
                          test20PortfolioWithNestedPortfolioCantAddADuplicatedAccount
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio addAsset: innerPortfolio.
	innerPortfolio addAsset: anAccount.
		
	self should: [ 	mainPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !

!methodRemoval: ReceptiveAccountTest #test22 stamp: 'nz 5/24/2021 22:07:14'!
test22
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio addAsset: innerPortfolio.
	innerPortfolio addAsset: anAccount.
		
	self should: [ 	mainPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:10:03'!
           test20CantAddAnAccountThatIsInANestedPortfolio
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio addAsset: innerPortfolio.
	innerPortfolio addAsset: anAccount.
		
	self should: [ 	mainPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !

!methodRemoval: ReceptiveAccountTest #test20PortfolioWithNestedPortfolioCantAddADuplicatedAccount stamp: 'nz 5/24/2021 22:10:03'!
test20PortfolioWithNestedPortfolioCantAddADuplicatedAccount
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio addAsset: innerPortfolio.
	innerPortfolio addAsset: anAccount.
		
	self should: [ 	mainPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:10:40'!
              test21CantAddAnAccountThatIsInAUpperPortfolio
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio addAsset: innerPortfolio.
	mainPortfolio addAsset: anAccount.
		
	self should: [ 		innerPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !

!methodRemoval: ReceptiveAccountTest #test23 stamp: 'nz 5/24/2021 22:10:40'!
test23
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio addAsset: innerPortfolio.
	mainPortfolio addAsset: anAccount.
		
	self should: [ 		innerPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
!

!methodRemoval: ReceptiveAccountTest #test24 stamp: 'nz 5/24/2021 22:12:24'!
test24
	
	| parentPortfolio otherParentPortfolio innerPortfolio anAccount |
	
	parentPortfolio _ Portfolio new.
	otherParentPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	parentPortfolio addAsset: innerPortfolio.
	parentPortfolio addAsset: anAccount.
	otherParentPortfolio addAsset: innerPortfolio.
		
	self should: [ 		innerPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:19:38'!
 test22CantAddAnAccountThatIsInAPortfolioManyLevelsAbove
	
	| rootPortfolio childPortfolio grandChildPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	childPortfolio _ Portfolio new.
	grandChildPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	rootPortfolio addAsset: childPortfolio .
	rootPortfolio addAsset: anAccount.
	childPortfolio addAsset: grandChildPortfolio.
		
	self should: [ 		grandChildPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !

!methodRemoval: ReceptiveAccountTest #test25 stamp: 'nz 5/24/2021 22:19:38'!
test25
	
	| rootPortfolio childPortfolio grandChildPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	childPortfolio _ Portfolio new.
	grandChildPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	rootPortfolio addAsset: childPortfolio .
	rootPortfolio addAsset: anAccount.
	childPortfolio addAsset: grandChildPortfolio.
		
	self should: [ 		grandChildPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:21:07'!
               test21CantAddAnAccountThatIsInAPortfolioALevelAbove
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio addAsset: innerPortfolio.
	mainPortfolio addAsset: anAccount.
		
	self should: [ 		innerPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !

!methodRemoval: ReceptiveAccountTest #test21CantAddAnAccountThatIsInAUpperPortfolio stamp: 'nz 5/24/2021 22:21:07'!
test21CantAddAnAccountThatIsInAUpperPortfolio
	
	| mainPortfolio innerPortfolio anAccount |
	
	mainPortfolio _ Portfolio new.
	innerPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	
	mainPortfolio addAsset: innerPortfolio.
	mainPortfolio addAsset: anAccount.
		
	self should: [ 		innerPortfolio addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:23:03'!
   test23CantAddAPortfolioWithDuplicatedAccount
	
	| rootPortfolio leftPortfolio rightPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	leftPortfolio _ Portfolio new.
	rightPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
		
	rootPortfolio addAsset: leftPortfolio.
	leftPortfolio addAsset: anAccount.
	rightPortfolio addAsset: anAccount.
		
	self should: [ rootPortfolio addAsset: rightPortfolio. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
! !

!methodRemoval: ReceptiveAccountTest #test26 stamp: 'nz 5/24/2021 22:23:03'!
test26
	
	| rootPortfolio leftPortfolio rightPortfolio anAccount |
	
	rootPortfolio _ Portfolio new.
	leftPortfolio _ Portfolio new.
	rightPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
		
	rootPortfolio addAsset: leftPortfolio.
	leftPortfolio addAsset: anAccount.
	rightPortfolio addAsset: anAccount.
		
	self should: [ rootPortfolio addAsset: rightPortfolio. ]
		raise: Error
		withMessageText: Portfolio duplicatedAssetErrorDescription.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:23:45'!
              test24EmptyPortfolioHasNoTransactions
	
	| aPortfolio |
	
	aPortfolio _ Portfolio new.
	
	self assert: aPortfolio transactions isEmpty.! !

!methodRemoval: ReceptiveAccountTest #test27 stamp: 'nz 5/24/2021 22:23:45'!
test27
	
	| aPortfolio |
	
	aPortfolio _ Portfolio new.
	
	self assert: aPortfolio transactions isEmpty.!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'nz 5/24/2021 22:24:14'!
                   test25PortfolioWithOneAccountHasAllItsTransactions
	
	| aPortfolio anAccount aTransaction |
	
	aPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	aPortfolio addAsset: anAccount.
	
	aTransaction _ Deposit register: 200 on: anAccount.
	
	self assert: aPortfolio transactions size equals: 1.
	self assert: aPortfolio transactions first equals: aTransaction.! !

!methodRemoval: ReceptiveAccountTest #test28 stamp: 'nz 5/24/2021 22:24:14'!
test28
	
	| aPortfolio anAccount aTransaction |
	
	aPortfolio _ Portfolio new.
	anAccount _ ReceptiveAccount new.
	aPortfolio addAsset: anAccount.
	
	aTransaction _ Deposit register: 200 on: anAccount.
	
	self assert: aPortfolio transactions size equals: 1.
	self assert: aPortfolio transactions first equals: aTransaction.!

!testRun: #ReceptiveAccountTest #test25PortfolioWithOneAccountHasAllItsTransactions stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test08EmptyPortfolioHasZeroBalance stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test09BalanceOfPortfolioWithOneAccountEqualsToAccountBalance stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test10BalanceOfPortfolioWithManyAccountsEqualsToTheSumOfTheirBalances stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test11PortfolioWithOneAccountHasRegisteredTheTransactionsOfThatAccount stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test12EmptyPortfolioHasNotRegisteredATransactionOfAnExternalAccount stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithMultipleAccountsHasRegisteredAllTheirTransactions stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test14PortfolioWithNestedPortfolioHasRegisteredAccountTransactions stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test15NotEmptyPortfolioHasNotRegisteredATransactionOfAnExternalAccount stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test16PortfolioWithMultipleNestedPortfoliosHasRegisteredAllTheirTransactions stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test17PortfolioWithAnAccountAndAnEmptyPortfolioHasAccountTransactions stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test18CannotAddAnAccountTwiceToAPortfolio stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test19CantAddPortfolioToItself stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test20CantAddAnAccountThatIsInANestedPortfolio stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test21CantAddAnAccountThatIsInAPortfolioALevelAbove stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test22CantAddAnAccountThatIsInAPortfolioManyLevelsAbove stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test23CantAddAPortfolioWithDuplicatedAccount stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test24EmptyPortfolioHasNoTransactions stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test25PortfolioWithOneAccountHasAllItsTransactions stamp: 'nz 5/24/2021 22:24:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test13PortfolioWithMultipleAccountsHasRegisteredAllTheirTransactions stamp: 'nz 5/24/2021 22:30:03'!
PASSED!

----QUIT----(24 May 2021 22:31:01) Porfolio.image priorSource: 213681!

----STARTUP---- (27 May 2021 20:38:58) as /home/nikita/r/f/ingsoft1/Inge1-ejercicios/18-Portfolio 2/Porfolio.image!


!classRemoval: #ReceptiveAccount stamp: 'nz 5/27/2021 20:39:31'!
FinancialAsset subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Portfolio stamp: 'nz 5/27/2021 20:39:31'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets rootPortfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #FinancialAsset stamp: 'nz 5/27/2021 20:39:32'!
Object subclass: #FinancialAsset
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Withdraw stamp: 'nz 5/27/2021 20:39:32'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Deposit stamp: 'nz 5/27/2021 20:39:32'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #AccountTransaction stamp: 'nz 5/27/2021 20:39:33'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #ReceptiveAccountTest stamp: 'nz 5/27/2021 20:39:33'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTest category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:48'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:16:26'!
                  test01BalanceOfPortfolioWithoutAccountsIsZero

	self assert: 0 equals: Portfolio new balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'NR 5/27/2021 17:36:04'!
                             test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance

	| account portfolio |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	self assert: account balance equals: portfolio balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:23:25'!
                             test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	self assert: (composedPortfolioAccount balance + simplePortfolio balance) equals: composedPortofolio balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:43:15'!
                 test04PortfolioWithoutAccountsHasNoRegisteredTransaction

	self deny: (Portfolio new hasRegistered: (Deposit for: 100))! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:43:11'!
 test05PortfolioHasRegisteredItsAccountsTransactions

	| account portfolio deposit |
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	self assert: (portfolio hasRegistered: deposit)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:06'!
                        test06PortfolioLooksForRegisteredTransactionsRecursively

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortfolio composedPortfolioAccountWithdraw simplePortfolioAccountDeposit |
	
	simplePortfolioAccount := ReceptiveAccount new.
	simplePortfolioAccountDeposit := Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	composedPortfolioAccountWithdraw := Withdraw register: 50 on: composedPortfolioAccount.
	composedPortfolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	self assert: (composedPortfolio hasRegistered: simplePortfolioAccountDeposit).
	self assert: (composedPortfolio hasRegistered: composedPortfolioAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:10'!
                              test07PortfolioHasNoTransactionWhenHasNoAccounts

	self assert: Portfolio new transactions isEmpty! !
!PortfolioTest methodsFor: 'tests' stamp: 'NR 6/22/2020 07:31:19'!
                       test08PortfolioTransactionsIncludesAllItsAccountsTransactions

	| account portfolio accountDeposit anotherAccount portfolioTransactions anotherAccountWithdraw |
	
	account := ReceptiveAccount new.
	accountDeposit := Deposit register: 100 on: account.
	anotherAccount := ReceptiveAccount new.
	anotherAccountWithdraw := Withdraw register: 100 on: account.
	portfolio := Portfolio with: account.
	
	portfolioTransactions := portfolio transactions.
	
	self assert: 2 equals: portfolioTransactions size.
	self assert: (portfolioTransactions includes: accountDeposit).
	self assert: (portfolioTransactions includes: anotherAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:20'!
                              test09PortfolioTransactionsAreCalculatedRecursively

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortfolio composedPortfolioAccountWithdraw simplePortfolioAccountDeposit composedPortfolioTransactions |
	
	simplePortfolioAccount := ReceptiveAccount new.
	simplePortfolioAccountDeposit := Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	composedPortfolioAccountWithdraw := Withdraw register: 50 on: composedPortfolioAccount.
	composedPortfolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	composedPortfolioTransactions := composedPortfolio transactions.
	self assert: 2 equals: composedPortfolioTransactions size.
	self assert: (composedPortfolioTransactions includes: simplePortfolioAccountDeposit).
	self assert: (composedPortfolioTransactions includes: composedPortfolioAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:24'!
                         test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce

	| account portfolio |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self 
		should: [ portfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 1 equals: portfolio accountsSize.
			self assert: (portfolio accountsIncludes: account) ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:28'!
            test11PortfolioCanNotIncludeAccountOfItsPortfolios

	| account simplePortfolio composedPortfolio |
	
	account := ReceptiveAccount new.
	simplePortfolio := Portfolio with: account.
	composedPortfolio := Portfolio with: simplePortfolio.
	
	self 
		should: [ composedPortfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 1 equals: composedPortfolio accountsSize.
			self assert: (composedPortfolio accountsIncludes: simplePortfolio) ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:32'!
                           test12PortfolioCanNotIncludeItself

	| account simplePortfolio |
	
	account := ReceptiveAccount new.
	simplePortfolio := Portfolio with: account.
	
	self 
		should: [ simplePortfolio add: simplePortfolio ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 1 equals: simplePortfolio accountsSize.
			self assert: (simplePortfolio accountsIncludes: account) ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 12:01:51'!
                          test13ComposedPortfolioCanNotHaveParentPortfolioAccount

	| account simplePortfolio composedPortfolio |
	
	account := ReceptiveAccount new.
	simplePortfolio := Portfolio new.
	composedPortfolio := Portfolio with: simplePortfolio.
	composedPortfolio add: account.
	
	self 
		should: [ simplePortfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: simplePortfolio accountsIsEmpty ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 12:12:16'!
                 test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively

	| account leftParentPortfolio leftRootParentPortfolio portfolio rightParentPortfolio rightRootParentPortfolio |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio new.
	leftParentPortfolio := Portfolio with: portfolio .
	leftRootParentPortfolio := Portfolio with: leftParentPortfolio.
	leftRootParentPortfolio add: account.
	
	rightParentPortfolio := Portfolio with: portfolio .
	rightRootParentPortfolio := Portfolio with: rightParentPortfolio.
	rightRootParentPortfolio add: account.

	self 
		should: [ portfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: portfolio accountsIsEmpty ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/29/2019 16:31:18'!
                 test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd

	| portfolioToAdd portfolioToModify rootPortfolio sharedAccount |
	
	sharedAccount := ReceptiveAccount new.
	portfolioToModify := Portfolio new.
	rootPortfolio := Portfolio with: sharedAccount with: portfolioToModify.
	portfolioToAdd := Portfolio with: sharedAccount.
	
	self 
		should: [ portfolioToModify add: portfolioToAdd ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: portfolioToModify accountsIsEmpty ]! !

TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReceptiveAccountTest category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:49'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:19:48'!
     test01ReceptiveAccountHaveZeroAsBalanceWhenCreated 

	| account |
	
	account := ReceptiveAccount new.

	self assert: 0 equals: account balance .
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:19:54'!
test02DepositIncreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
		
	self assert: 100 equals: account balance .
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:02'!
                          test03WithdrawDecreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
		
	self assert: 50 equals: account balance .
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:32'!
                       test04WithdrawValueMustBePositive 

	| account withdrawValue |
	
	account := ReceptiveAccount new.
	withdrawValue := 50.
	
	self assert: withdrawValue equals: (Withdraw register: withdrawValue on: account) value
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:46'!
                             test05ReceptiveAccountKnowsRegisteredTransactions 

	| account deposit withdraw |
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	withdraw := Withdraw register: 50 on: account.
		
	self assert: (account hasRegistered: deposit).
	self assert: (account hasRegistered: withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:54'!
                        test06ReceptiveAccountDoNotKnowNotRegisteredTransactions

	| account deposit withdraw |
	
	account := ReceptiveAccount new.
	deposit :=  Deposit for: 100.
	withdraw := Withdraw for: 50.
		
	self deny: (account hasRegistered: deposit).
	self deny: (account hasRegistered:withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:21:24'!
                        test07AccountKnowsItsTransactions 

	| account1 deposit1 |
	
	account1 := ReceptiveAccount new.
	
	deposit1 := Deposit register: 100 on: account1.
		
	self assert: 1 equals: account1 transactions size .
	self assert: (account1 transactions includes: deposit1).
! !

Object subclass: #Account
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Account category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:49'!
Object subclass: #Account
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Account methodsFor: 'testing' stamp: 'HAW 5/25/2019 12:23:47'!
                   hasRegistered: aTransaction

	self subclassResponsibility ! !
!Account methodsFor: 'testing' stamp: 'HAW 5/25/2019 12:24:25'!
  isComposedBy: anAccount

	self subclassResponsibility ! !
!Account methodsFor: 'balance' stamp: 'HAW 5/25/2019 12:23:40'!
      balance

	self subclassResponsibility ! !
!Account methodsFor: 'transactions' stamp: 'HAW 5/25/2019 12:23:27'!
                 addTransactionsTo: aCollectionOfTransactions

	self subclassResponsibility ! !
!Account methodsFor: 'transactions' stamp: 'HAW 5/25/2019 12:23:15'!
            transactions

	self subclassResponsibility ! !
!Account methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:24:04'!
             addedTo: aPortfolio

	self subclassResponsibility ! !

Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Portfolio category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:49'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 11:49:20'!
                accountsIncludes: anAccount

	^accounts includes: anAccount ! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 12:05:04'!
                  accountsIsEmpty
	
	^accounts isEmpty ! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 11:49:06'!
         accountsSize
	
	^accounts size! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 12:19:20'!
                add: accountToAdd

	self assertCanAdd: accountToAdd.
		
	accounts add: accountToAdd.
	accountToAdd addedTo: self 
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 12:17:31'!
                           rootParents
	
	| rootParents |
	
	rootParents := Set new.
	self addRootParentsTo: rootParents.
	
	^ rootParents! !
!Portfolio methodsFor: 'initialization' stamp: 'HAW 5/25/2019 12:03:18' overrides: 16896425!
                initialize

	accounts := OrderedCollection new.
	parents := OrderedCollection new.! !
!Portfolio methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:19:36' overrides: 50340818!
                    balance
	
	^accounts sum: [ :anAccount | anAccount balance ] ifEmpty: [ 0 ]! !
!Portfolio methodsFor: 'transactions' stamp: 'HAW 5/25/2019 11:42:55' overrides: 50340822!
                      addTransactionsTo: aCollectionOfTransactions

	accounts do: [ :anAccount | anAccount addTransactionsTo: aCollectionOfTransactions ]! !
!Portfolio methodsFor: 'transactions' stamp: 'HAW 5/25/2019 11:38:32' overrides: 50340827!
                              transactions
	
	| transactions |
	
	transactions := OrderedCollection new.
	accounts do: [ :anAccount | anAccount addTransactionsTo: transactions ].
	
	^transactions ! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:02:59' overrides: 50340831!
                            addedTo: aPortfolio 
	
	parents add: aPortfolio ! !
!Portfolio methodsFor: 'testing' stamp: 'HAW 5/25/2019 12:20:56'!
          anyRootParentIsComposedBy: accountToAdd

	^self rootParents anySatisfy: [ :aParent | aParent isComposedBy: accountToAdd]! !
!Portfolio methodsFor: 'testing' stamp: 'HAW 5/25/2019 11:28:29' overrides: 50340810!
              hasRegistered: aTransaction

	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ]! !
!Portfolio methodsFor: 'testing' stamp: 'HAW 5/29/2019 16:24:54' overrides: 50340814!
                            isComposedBy: anAccount

	^ self = anAccount or: [ accounts anySatisfy: [ :composedAccount | (composedAccount isComposedBy: anAccount) or: [ anAccount isComposedBy: composedAccount ]]]! !
!Portfolio methodsFor: 'account management - private' stamp: 'HAW 5/25/2019 12:17:31'!
             addRootParentsTo: rootParents

	parents 
		ifEmpty: [ rootParents add: self ] 
		ifNotEmpty: [ parents do: [ :aParent | aParent addRootParentsTo: rootParents ]]! !
!Portfolio methodsFor: 'account management - private' stamp: 'HAW 5/25/2019 12:20:36'!
     assertCanAdd: accountToAdd

	(self anyRootParentIsComposedBy: accountToAdd) ifTrue: [ self signalCanNotAddAccount ].
! !
!Portfolio methodsFor: 'account management - private' stamp: 'HAW 5/25/2019 11:48:34'!
                signalCanNotAddAccount
	
	self error: self class canNotAddAccountErrorMessage! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

Portfolio class
	instanceVariableNames: ''!

!classDefinition: 'Portfolio class' category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:49'!
Portfolio class
	instanceVariableNames: ''!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:48:55'!
   canNotAddAccountErrorMessage
	
	^'Can not add repeated account to a portfolio'! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:18:21'!
                          with: anAccount

	^self new 
		add: anAccount;
		yourself! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:23:59'!
               with: anAccount with: anotherAccount

	^self new 
		add: anAccount;
		add: anotherAccount;
		yourself! !

Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:49'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReceptiveAccount methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:35' overrides: 16896425!
                 initialize

	super initialize.
	transactions := OrderedCollection new.! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'HAW 5/25/2019 11:38:52' overrides: 50340822!
                    addTransactionsTo: aCollectionOfTransactions

	aCollectionOfTransactions addAll: transactions ! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'HernanWilkinson 7/13/2011 18:37'!
       register: aTransaction

	transactions add: aTransaction 
! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'HernanWilkinson 7/13/2011 18:37' overrides: 50340827!
                        transactions 

	^ transactions copy! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:24:46' overrides: 50340818!
                            balance

	^transactions 
		inject: 0
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'NR 10/21/2019 18:55:56' overrides: 50340810!
      hasRegistered: aTransaction

	^ transactions includes: aTransaction 
! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'HAW 5/25/2019 11:54:51' overrides: 50340814!
                          isComposedBy: anAccount

	^self = anAccount ! !
!ReceptiveAccount methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:03:32' overrides: 50340831!
               addedTo: aPortfolio 
	
	! !

Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountTransaction category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:49'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountTransaction methodsFor: 'value' stamp: 'HernanWilkinson 9/12/2011 12:25' overrides: 16881508!
                         value 

	self subclassResponsibility ! !
!AccountTransaction methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:39'!
            affectBalance: aBalance

	self subclassResponsibility ! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

AccountTransaction class
	instanceVariableNames: ''!

!classDefinition: 'AccountTransaction class' category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:49'!
AccountTransaction class
	instanceVariableNames: ''!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'NR 10/21/2019 18:54:27'!
                        register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !

AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Deposit category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:49'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Deposit methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:45'!
  initializeFor: aValue

	value := aValue ! !
!Deposit methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:38' overrides: 50341048!
                         value

	^ value! !
!Deposit methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:02' overrides: 50341052!
                         affectBalance: aBalance

	^aBalance + value ! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

Deposit class
	instanceVariableNames: ''!

!classDefinition: 'Deposit class' category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:49'!
Deposit class
	instanceVariableNames: ''!
!Deposit class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:38'!
     for: aValue

	^ self new initializeFor: aValue ! !

AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Withdraw category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:49'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Withdraw methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:46'!
                   initializeFor: aValue

	value := aValue ! !
!Withdraw methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:33' overrides: 50341048!
                        value

	^ value! !
!Withdraw methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:15' overrides: 50341052!
                        affectBalance: aBalance

	^aBalance - value! !

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!

Withdraw class
	instanceVariableNames: ''!

!classDefinition: 'Withdraw class' category: 'Portfolio-Solucion' stamp: 'nz 5/27/2021 20:39:49'!
Withdraw class
	instanceVariableNames: ''!
!Withdraw class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:33'!
  for: aValue

	^ self new initializeFor: aValue ! !

----End fileIn of /home/nikita/r/f/ingsoft1/2021-1c/17-Portfolio 1/Portfolio-Solucion.st----!

----QUIT----(27 May 2021 20:41:18) Porfolio.image priorSource: 279307!

----STARTUP---- (27 May 2021 20:41:54) as /home/nikita/r/f/ingsoft1/Inge1-ejercicios/18-Portfolio 2/Porfolio.image!


!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/27/2021 20:42:27'!
PASSED!

TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #TransferTest category: 'Portfolio-Ejercicio-2' stamp: 'nz 5/27/2021 20:50:11'!
TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!TransferTest methodsFor: 'no messages' stamp: 'nz 5/27/2021 20:50:24'!
                        test01

	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 20:51:02' prior: 50341253!
                   test01

	| account anotherAccount |
	
	account := ReceptiveAccount  new.
	anotherAccount := ReceptiveAccount  new.
	
	Deposit register: 100 on: account.
		
	self assert: 100 equals: account balance .
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 20:51:26' prior: 50341257!
                    test01

	| senderAccount anotherAccount |
	
	senderAccount := ReceptiveAccount  new.
	anotherAccount := ReceptiveAccount  new.
	
	Deposit register: 100 on: senderAccount.
		
	self assert: 100 equals: senderAccount balance .
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 20:51:48' prior: 50341267!
                            test01

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Deposit register: 100 on: senderAccount.
		
	self assert: 100 equals: senderAccount balance .
! !

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'nz 5/27/2021 20:53:15'!
Object subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 20:53:02' prior: 50341278!
                   test01

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
		
	self assert: -100 equals: senderAccount balance .
	self assert: 100 equals: receiverAccount balance .
! !

!testRun: #TransferTest #test01 stamp: 'nz 5/27/2021 20:55:43'!
ERROR!

!testRun: #TransferTest #test01 stamp: 'nz 5/27/2021 20:55:43'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 20:56:03'!
              amount: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 20:56:51' prior: 50341313!
                          amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 21:01:55' prior: 50341320!
                          amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	Withdraw register: anAmountToTransfer on: aSenderAccount.
	Deposit register: anAmountToTransfer on: aReceiverAccount.! !

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/27/2021 21:01:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'nz 5/27/2021 21:01:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'nz 5/27/2021 21:01:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'nz 5/27/2021 21:01:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'nz 5/27/2021 21:01:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'nz 5/27/2021 21:01:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'nz 5/27/2021 21:01:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'nz 5/27/2021 21:01:59'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'nz 5/27/2021 21:02:07'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'nz 5/27/2021 21:02:07'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 21:14:05'!
                           test02

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: senderAccount transactions first value equals: 100.
		
! !

!testRun: #TransferTest #test02 stamp: 'nz 5/27/2021 21:14:07'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'nz 5/27/2021 21:14:07'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'nz 5/27/2021 21:14:07'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 21:15:45' prior: 50341371!
                        test02

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: senderAccount transactions first receiver equals: receiverAccount.
! !

!testRun: #TransferTest #test02 stamp: 'nz 5/27/2021 21:15:50'!
ERROR!

Deposit subclass: #OutcomingTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #OutcomingTransfer category: 'Portfolio-Ejercicio-2' stamp: 'nz 5/27/2021 21:21:14'!
Deposit subclass: #OutcomingTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!OutcomingTransfer methodsFor: 'nil' stamp: 'nz 5/27/2021 21:21:27'!
                             receiver

	^receiver! !

!testRun: #TransferTest #test02 stamp: 'nz 5/27/2021 21:21:36'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 21:22:09' prior: 50341327!
                              amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	OutcomingTransfer register: anAmountToTransfer on: aSenderAccount.
	Deposit register: anAmountToTransfer on: aReceiverAccount.! !

!classRenamed: #OutcomingTransfer as: #OutgoingTransfer stamp: 'nz 5/27/2021 21:22:21'!
Smalltalk renameClassNamed: #OutcomingTransfer as: #OutgoingTransfer!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 21:22:21' prior: 50341424!
                      amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	OutgoingTransfer register: anAmountToTransfer on: aSenderAccount.
	Deposit register: anAmountToTransfer on: aReceiverAccount.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 21:23:21' prior: 50341439!
                      amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	OutgoingTransfer register: anAmountToTransfer on: aSenderAccount to: aReceiverAccount.
	Deposit register: anAmountToTransfer on: aReceiverAccount.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 21:23:54' prior: 50341449!
 amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	OutgoingTransfer amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	Deposit register: anAmountToTransfer on: aReceiverAccount.! !

!testRun: #TransferTest #test02 stamp: 'nz 5/27/2021 21:24:08'!
ERROR!
!OutgoingTransfer class methodsFor: 'instance creation' stamp: 'nz 5/27/2021 21:24:16'!
   amount: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeAmount: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 ! !

Withdraw subclass: #OutgoingTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #OutgoingTransfer category: 'Portfolio-Ejercicio-2' stamp: 'nz 5/27/2021 21:28:32'!
Withdraw subclass: #OutgoingTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

AccountTransaction subclass: #OutgoingTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #OutgoingTransfer category: 'Portfolio-Ejercicio-2' stamp: 'nz 5/27/2021 21:28:48'!
AccountTransaction subclass: #OutgoingTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

AccountTransaction subclass: #OutgoingTransfer
	instanceVariableNames: 'value receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #OutgoingTransfer category: 'Portfolio-Ejercicio-2' stamp: 'nz 5/27/2021 21:28:55'!
AccountTransaction subclass: #OutgoingTransfer
	instanceVariableNames: 'value receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!OutgoingTransfer class methodsFor: 'instance creation' stamp: 'nz 5/27/2021 21:31:32' prior: 50341471!
            amount: anAmount from: aSenderAccount to: aReceiverAccount

	^self new initializeAmount: anAmount from: aSenderAccount to: aReceiverAccount ! !

!testRun: #TransferTest #test02 stamp: 'nz 5/27/2021 21:31:37'!
ERROR!

!classDefinition: #OutgoingTransfer category: 'Portfolio-Ejercicio-2' stamp: 'nz 5/27/2021 21:31:53'!
AccountTransaction subclass: #OutgoingTransfer
	instanceVariableNames: 'value receiver amount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #OutgoingTransfer category: 'Portfolio-Ejercicio-2' stamp: 'nz 5/27/2021 21:31:53'!
AccountTransaction subclass: #OutgoingTransfer
	instanceVariableNames: 'value receiver amount senderAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #OutgoingTransfer category: 'Portfolio-Ejercicio-2' stamp: 'nz 5/27/2021 21:31:54'!
AccountTransaction subclass: #OutgoingTransfer
	instanceVariableNames: 'value receiver amount senderAccount receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!OutgoingTransfer methodsFor: 'initialization' stamp: 'nz 5/27/2021 21:31:54'!
     initializeAmount: anAmount from: aSenderAccount to: aReceiverAccount 
	self shouldBeImplemented.
	amount := anAmount.
	senderAccount := aSenderAccount.
	receiverAccount := aReceiverAccount.! !
!OutgoingTransfer methodsFor: 'initialization' stamp: 'nz 5/27/2021 21:32:01' prior: 50341560!
initializeAmount: anAmount from: aSenderAccount to: aReceiverAccount 
	
	amount := anAmount.
	senderAccount := aSenderAccount.
	receiverAccount := aReceiverAccount.! !
!OutgoingTransfer methodsFor: 'initialization' stamp: 'nz 5/27/2021 21:32:13' prior: 50341569!
                         initializeAmount: anAmount from: aSenderAccount to: aReceiverAccount 
	
	value := anAmount.
	senderAccount := aSenderAccount.
	receiverAccount := aReceiverAccount.! !

AccountTransaction subclass: #OutgoingTransfer
	instanceVariableNames: 'value receiver senderAccount receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #OutgoingTransfer category: 'Portfolio-Ejercicio-2' stamp: 'nz 5/27/2021 21:32:33'!
AccountTransaction subclass: #OutgoingTransfer
	instanceVariableNames: 'value receiver senderAccount receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

AccountTransaction subclass: #OutgoingTransfer
	instanceVariableNames: 'value senderAccount receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #OutgoingTransfer category: 'Portfolio-Ejercicio-2' stamp: 'nz 5/27/2021 21:32:39'!
AccountTransaction subclass: #OutgoingTransfer
	instanceVariableNames: 'value senderAccount receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!OutgoingTransfer methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 21:32:58' prior: 50341417!
                       receiver

	^receiverAccount! !
!OutgoingTransfer methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 21:33:34' overrides: 50341048!
                         value

	^value! !
!OutgoingTransfer methodsFor: 'as yet unclassified' stamp: 'nz 5/27/2021 21:33:54' overrides: 50341052!
      affectBalance: aBalance

	^aBalance - value! !

!testRun: #TransferTest #test02 stamp: 'nz 5/27/2021 21:33:57'!
ERROR!

!testRun: #TransferTest #test02 stamp: 'nz 5/27/2021 21:34:07'!
ERROR!
!OutgoingTransfer class methodsFor: 'instance creation' stamp: 'nz 5/27/2021 21:35:41' prior: 50341523!
                         amount: anAmount from: aSenderAccount to: aReceiverAccount
	| outgoingTransfer |
	outgoingTransfer _ self new initializeAmount: anAmount from: aSenderAccount to: aReceiverAccount.
	aSenderAccount register: outgoingTransfer.
	^outgoingTransfer.! !

!testRun: #TransferTest #test02 stamp: 'nz 5/27/2021 21:35:52'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'nz 5/27/2021 21:35:52'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'nz 5/27/2021 21:35:52'!
PASSED!

----SNAPSHOT----(27 May 2021 21:36:17) Porfolio.image priorSource: 304017!

----STARTUP---- (31 May 2021 21:41:02) as /home/awolfsdorf/Dropbox/CSCOM/IngeSoft1/Inge1-ejercicios/18-Portfolio 2/Porfolio.image!

!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 21:49:19' prior: 50341390!
                             test02

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: (senderAccount hasRegistered: transfer xxx).

! !

!testRun: #TransferTest #test02 stamp: 'AW 5/31/2021 21:49:23'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 21:49:33'!
             xxx
	self shouldBeImplemented.! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 21:50:02'!
                  xxx
	self shouldBeImplemented.! !

!methodRemoval: Transfer class #xxx stamp: 'AW 5/31/2021 21:50:02'!
xxx
	self shouldBeImplemented.!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 5/31/2021 21:50:20'!
Object subclass: #Transfer
	instanceVariableNames: 'xxx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 21:50:18' prior: 50341680!
                   xxx
	^xxx.! !

!testRun: #TransferTest #test01 stamp: 'AW 5/31/2021 21:50:31'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 5/31/2021 21:50:31'!
ERROR!

!testRun: #TransferTest #test02 stamp: 'AW 5/31/2021 21:50:31'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 21:52:36' prior: 50341459!
                       amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| outgoingTransfer |
	
	outgoingTransfer := OutgoingTransfer amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	Deposit register: anAmountToTransfer on: aReceiverAccount.
	
	^self new initializeWith: outgoingTransfer.! !

!testRun: #TransferTest #test01 stamp: 'AW 5/31/2021 21:53:29'!
ERROR!

!testRun: #TransferTest #test02 stamp: 'AW 5/31/2021 21:53:29'!
ERROR!

!testRun: #TransferTest #test01 stamp: 'AW 5/31/2021 21:53:34'!
ERROR!

!testRun: #TransferTest #test01 stamp: 'AW 5/31/2021 21:53:55'!
ERROR!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 5/31/2021 21:54:15'!
Object subclass: #Transfer
	instanceVariableNames: 'xxx outgoingTransfer_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!Transfer methodsFor: 'initialization' stamp: 'AW 5/31/2021 21:54:15'!
                            initializeWith: outgoingTransfer 
	self shouldBeImplemented.
	outgoingTransfer_CHANGE_ME := outgoingTransfer.! !
!Transfer methodsFor: 'initialization' stamp: 'AW 5/31/2021 21:54:31' prior: 50341736!
                        initializeWith: outgoingTransfer 

	outgoingTransfer_CHANGE_ME := outgoingTransfer.! !

!testRun: #TransferTest #test01 stamp: 'AW 5/31/2021 21:54:45'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 5/31/2021 21:54:47'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'AW 5/31/2021 21:55:18' prior: 50341743!
                               initializeWith: outgoingTransfer 

	xxx := outgoingTransfer.! !

Object subclass: #Transfer
	instanceVariableNames: 'xxx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 5/31/2021 21:55:28'!
Object subclass: #Transfer
	instanceVariableNames: 'xxx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!testRun: #TransferTest #test02 stamp: 'AW 5/31/2021 21:55:30'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 5/31/2021 21:55:30'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 5/31/2021 21:55:30'!
PASSED!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 21:56:05'!
   outgoingTransaction
	^xxx.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 21:56:05' prior: 50341662!
  test02

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: (senderAccount hasRegistered: transfer outgoingTransaction).

! !

!methodRemoval: Transfer #xxx stamp: 'AW 5/31/2021 21:56:05'!
xxx
	^xxx.!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 5/31/2021 21:56:20'!
Object subclass: #Transfer
	instanceVariableNames: 'outgoingTransaction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 21:56:20' prior: 50341754!
                      initializeWith: outgoingTransfer 

	outgoingTransaction := outgoingTransfer.! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 21:56:20' prior: 50341777!
                    outgoingTransaction
	^outgoingTransaction.! !
!Transfer methodsFor: 'initialization' stamp: 'AW 5/31/2021 21:56:47' prior: 50341804!
                           initializeWith: aOutgoingTransaction 

	outgoingTransaction := aOutgoingTransaction.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 21:57:21' prior: 50341706!
      amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| outgoingTransaction |
	
	outgoingTransaction := OutgoingTransfer amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	Deposit register: anAmountToTransfer on: aReceiverAccount.
	
	^self new initializeWith: outgoingTransaction.! !

!classRenamed: #OutgoingTransfer as: #OutgoingTransaction stamp: 'AW 5/31/2021 21:57:32'!
Smalltalk renameClassNamed: #OutgoingTransfer as: #OutgoingTransaction!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 21:57:32' prior: 50341821!
                          amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| outgoingTransaction |
	
	outgoingTransaction := OutgoingTransaction amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	Deposit register: anAmountToTransfer on: aReceiverAccount.
	
	^self new initializeWith: outgoingTransaction.! !

!testRun: #TransferTest #test01 stamp: 'AW 5/31/2021 21:58:09'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 5/31/2021 21:58:09'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 22:00:09'!
                          test03

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: transfer receiver equals: receiverAccount.

! !

!testRun: #TransferTest #test03 stamp: 'AW 5/31/2021 22:00:10'!
ERROR!
!OutgoingTransaction methodsFor: 'initialization' stamp: 'AW 5/31/2021 22:01:07'!
               initializeAmount: anAmount transfer: aTransfer 
	
	value := anAmount.
	senderAccount := aTransfer .
! !
!OutgoingTransaction methodsFor: 'initialization' stamp: 'AW 5/31/2021 22:01:16' prior: 50341872!
                      initializeAmount: anAmount transfer: aTransfer 
	
	value := anAmount.
	senderAccount := aTransfer.
! !

!classDefinition: #OutgoingTransaction category: 'Portfolio-Ejercicio-2' stamp: 'AW 5/31/2021 22:01:23'!
AccountTransaction subclass: #OutgoingTransaction
	instanceVariableNames: 'value transfer receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!OutgoingTransaction methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 22:01:23' prior: 50341879!
           initializeAmount: anAmount transfer: aTransfer 
	
	value := anAmount.
	transfer := aTransfer.
! !
!OutgoingTransaction methodsFor: 'as yet unclassified' stamp: 'AW 5/31/2021 22:01:23' prior: 50341578!
                       initializeAmount: anAmount from: aSenderAccount to: aReceiverAccount 
	
	value := anAmount.
	transfer := aSenderAccount.
	receiverAccount := aReceiverAccount.! !

!methodRemoval: OutgoingTransaction #initializeAmount:from:to: stamp: 'AW 5/31/2021 22:01:29'!
initializeAmount: anAmount from: aSenderAccount to: aReceiverAccount 
	
	value := anAmount.
	transfer := aSenderAccount.
	receiverAccount := aReceiverAccount.!
!OutgoingTransaction class methodsFor: 'instance creation' stamp: 'AW 5/31/2021 23:55:07'!
   for: aTransfer
	| outgoingTransaction |
	
	outgoingTransaction _ self new initializeFor: aTransfer.
	aTransfer sender register: outgoingTransaction.
	^outgoingTransaction.! !

!methodRemoval: OutgoingTransaction class #amount:from:to: stamp: 'AW 5/31/2021 23:55:15'!
amount: anAmount from: aSenderAccount to: aReceiverAccount
	| outgoingTransfer |
	outgoingTransfer _ self new initializeAmount: anAmount from: aSenderAccount to: aReceiverAccount.
	aSenderAccount register: outgoingTransfer.
	^outgoingTransfer.!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:00:28' prior: 50341840!
                               amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| transfer outgoingTransaction |
	
	transfer _ self new initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	
	outgoingTransaction := OutgoingTransaction amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	Deposit register: anAmountToTransfer on: aReceiverAccount.
	
	transfer setOutgoing: outgoingTransaction.
	^transfer.! !

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:01:13'!
ERROR!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:01:31'!
Object subclass: #Transfer
	instanceVariableNames: 'outgoingTransaction amountToTransfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:01:31'!
Object subclass: #Transfer
	instanceVariableNames: 'outgoingTransaction amountToTransfer senderAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:01:31'!
Object subclass: #Transfer
	instanceVariableNames: 'outgoingTransaction amountToTransfer senderAccount receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!Transfer methodsFor: 'initialization' stamp: 'AW 6/1/2021 00:01:31'!
             initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	self shouldBeImplemented.
	amountToTransfer := anAmountToTransfer.
	senderAccount := aSenderAccount.
	receiverAccount := aReceiverAccount.! !
!Transfer methodsFor: 'initialization' stamp: 'AW 6/1/2021 00:01:46' prior: 50341983!
           initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 

	amountToTransfer := anAmountToTransfer.
	senderAccount := aSenderAccount.
	receiverAccount := aReceiverAccount.! !

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:01:50'!
Object subclass: #Transfer
	instanceVariableNames: 'outgoingTransaction value senderAccount receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:01:50' prior: 50341993!
   initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 

	value := anAmountToTransfer.
	senderAccount := aSenderAccount.
	receiverAccount := aReceiverAccount.! !

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:01:56'!
Object subclass: #Transfer
	instanceVariableNames: 'outgoingTransaction value sender receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:01:56' prior: 50342011!
                     initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 

	value := anAmountToTransfer.
	sender := aSenderAccount.
	receiverAccount := aReceiverAccount.! !

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:02:04'!
Object subclass: #Transfer
	instanceVariableNames: 'outgoingTransaction value sender receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:02:04' prior: 50342029!
   initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 

	value := anAmountToTransfer.
	sender := aSenderAccount.
	receiver := aReceiverAccount.! !

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:02:17'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:02:47' prior: 50341938!
            amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| transfer outgoingTransaction |
	
	transfer _ self new initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	
	outgoingTransaction := OutgoingTransaction for: transfer.
	Deposit register: anAmountToTransfer on: aReceiverAccount.
	
	transfer setOutgoing: outgoingTransaction.
	^transfer.! !

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:02:49'!
ERROR!
!OutgoingTransaction methodsFor: 'initialization' stamp: 'AW 6/1/2021 00:03:08'!
   initializeFor: aTransfer 
	self shouldBeImplemented.
	transfer := aTransfer.! !
!OutgoingTransaction methodsFor: 'initialization' stamp: 'AW 6/1/2021 00:03:14' prior: 50342074!
               initializeFor: aTransfer 
	
	transfer := aTransfer.! !

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:03:17'!
ERROR!
!Transfer methodsFor: 'accessing' stamp: 'AW 6/1/2021 00:03:27'!
 sender
	self shouldBeImplemented.
	^sender! !
!Transfer methodsFor: 'accessing' stamp: 'AW 6/1/2021 00:03:32' prior: 50342086!
 sender
	
	^sender! !

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:03:34'!
ERROR!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:03:59'!
                         setOutgoing: anOutgoingTransaction 
	self shouldBeImplemented.! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:04:17' prior: 50342096!
   setOutgoing: anOutgoingTransaction 
	
! !

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:04:22'!
ERROR!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:04:43'!
    receiver
	self shouldBeImplemented.
	^receiver! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:04:47' prior: 50342107!
                   receiver
	
	^receiver! !

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:04:49'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:04:49'!
ERROR!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:04:49'!
FAILURE!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:04:49'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:04:51'!
ERROR!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:05:02'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:05:02'!
ERROR!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:05:02'!
FAILURE!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:05:02'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:05:03'!
ERROR!
!OutgoingTransaction methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:05:51' prior: 50341627 overrides: 50341052!
                               affectBalance: aBalance

	^aBalance - transfer value.! !

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:05:52'!
ERROR!

transfer value!

transfer!
!OutgoingTransaction methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:06:39' prior: 50342140 overrides: 50341052!
          affectBalance: aBalance

	^aBalance - transfer amount.! !

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:06:55'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:06:55'!
ERROR!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:06:55'!
FAILURE!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:06:55'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:06:57'!
ERROR!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:07:05'!
                    amount
	self shouldBeImplemented.! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:07:14' prior: 50342165!
amount
	^value.! !

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:07:25'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:07:26'!
FAILURE!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:08:27'!
Object subclass: #Transfer
	instanceVariableNames: 'outgoingTransaction amount sender receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:08:27' prior: 50342169!
                 amount
	^amount.! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:08:27' prior: 50342046!
                 initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 

	amount := anAmountToTransfer.
	sender := aSenderAccount.
	receiver := aReceiverAccount.! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:08:42' prior: 50342101!
                        setOutgoing: anOutgoingTransaction 
	
	outgoingTransaction _ anOutgoingTransaction.! !

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:08:45'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:08:45'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:08:45'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:08:45'!
PASSED!

!methodRemoval: Transfer #initializeWith: stamp: 'AW 6/1/2021 00:09:11'!
initializeWith: aOutgoingTransaction 

	outgoingTransaction := aOutgoingTransaction.!
!OutgoingTransaction methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:09:44'!
                   amount

	^value! !

!methodRemoval: OutgoingTransaction #value stamp: 'AW 6/1/2021 00:09:44'!
value

	^value!
!OutgoingTransaction methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:09:56' prior: 50342219!
            amount

	^transfer amount.! !

AccountTransaction subclass: #OutgoingTransaction
	instanceVariableNames: 'transfer receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #OutgoingTransaction category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:10:05'!
AccountTransaction subclass: #OutgoingTransaction
	instanceVariableNames: 'transfer receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

AccountTransaction subclass: #OutgoingTransaction
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #OutgoingTransaction category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:10:20'!
AccountTransaction subclass: #OutgoingTransaction
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:10:27'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:10:27'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:10:27'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:10:27'!
PASSED!

!methodRemoval: OutgoingTransaction #initializeAmount:transfer: stamp: 'AW 6/1/2021 00:10:36'!
initializeAmount: anAmount transfer: aTransfer 
	
	value := anAmount.
	transfer := aTransfer.
!

!methodRemoval: OutgoingTransaction #receiver stamp: 'AW 6/1/2021 00:11:01'!
receiver

	^receiverAccount!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:11:04'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:11:04'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:11:04'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:11:04'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:12:49'!
                        test04

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: (receiverAccount hasRegistered: transfer incomingTransaction).

! !

!testRun: #TransferTest #test04 stamp: 'AW 6/1/2021 00:12:53'!
ERROR!
!Transfer methodsFor: 'accessing' stamp: 'AW 6/1/2021 00:13:02'!
             incomingTransaction
	self shouldBeImplemented.! !

!classDefinition: #Transfer category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:13:16'!
Object subclass: #Transfer
	instanceVariableNames: 'outgoingTransaction amount sender receiver incomingTransaction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!Transfer methodsFor: 'accessing' stamp: 'AW 6/1/2021 00:13:15' prior: 50342300!
                         incomingTransaction
	
	^incomingTransaction.! !

!testRun: #TransferTest #test04 stamp: 'AW 6/1/2021 00:13:20'!
FAILURE!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:14:08' prior: 50342057!
      amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| transfer outgoingTransaction incomingTransaction |
	
	transfer _ self new initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	
	outgoingTransaction := OutgoingTransaction for: transfer.
	incomingTransaction := Deposit register: anAmountToTransfer on: aReceiverAccount.
	
	transfer setOutgoing: outgoingTransaction andIncoming: incomingTransaction.
	^transfer.! !

!testRun: #TransferTest #test04 stamp: 'AW 6/1/2021 00:14:11'!
ERROR!
!Transfer methodsFor: 'accessing' stamp: 'AW 6/1/2021 00:14:18'!
       setOutgoing: anOutgoingTransaction andIncoming: aDeposit 
	self shouldBeImplemented.! !
!Transfer methodsFor: 'accessing' stamp: 'AW 6/1/2021 00:14:54' prior: 50342340!
                       setOutgoing: anOutgoingTransaction andIncoming: aDeposit 
	
	outgoingTransaction _ anOutgoingTransaction.
	incomingTransaction _ aDeposit.! !

!testRun: #TransferTest #test04 stamp: 'AW 6/1/2021 00:14:56'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:14:56'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:14:56'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:14:56'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'AW 6/1/2021 00:14:56'!
PASSED!

!methodRemoval: Transfer #setOutgoing: stamp: 'AW 6/1/2021 00:15:15'!
setOutgoing: anOutgoingTransaction 
	
	outgoingTransaction _ anOutgoingTransaction.!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:15:36'!
                               test05

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: transfer sender equals: senderAccount.

! !

!testRun: #TransferTest #test05 stamp: 'AW 6/1/2021 00:15:37'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:15:37'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:15:37'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:15:37'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'AW 6/1/2021 00:15:37'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'AW 6/1/2021 00:15:37'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:19:22' prior: 50342370!
                              test05

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: receiverAccount transactions first sender equals: senderAccount.

! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:19:33' prior: 50342396!
                    test05

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: receiverAccount transactions first sender equals: senderAccount.

! !

!testRun: #TransferTest #test05 stamp: 'AW 6/1/2021 00:19:36'!
ERROR!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:20:05'!
                  test06

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: receiverAccount transactions first sender equals: senderAccount.

! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:19:33' prior: 50342409!
         test05

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: receiverAccount transactions first sender equals: senderAccount.

! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:19:22' prior: 50342435!
         test05

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: receiverAccount transactions first sender equals: senderAccount.

! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:21:08' prior: 50342447!
                    test05

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: transfer sender equals: senderAccount.! !

!testRun: #TransferTest #test05 stamp: 'AW 6/1/2021 00:21:09'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:21:09'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:21:09'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:21:09'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'AW 6/1/2021 00:21:09'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'AW 6/1/2021 00:21:09'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'AW 6/1/2021 00:21:09'!
ERROR!

!testRun: #TransferTest #test06 stamp: 'AW 6/1/2021 00:21:09'!
ERROR!

!testRun: #TransferTest #test06 stamp: 'AW 6/1/2021 00:21:27'!
ERROR!

AccountTransaction subclass: #IncomingTransaction
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #IncomingTransaction category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:21:51'!
AccountTransaction subclass: #IncomingTransaction
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classRemoval: #IncomingTransaction stamp: 'AW 6/1/2021 00:21:59'!
AccountTransaction subclass: #IncomingTransaction
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

AccountTransaction subclass: #IncomingTransaction
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #IncomingTransaction category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:22:08'!
AccountTransaction subclass: #IncomingTransaction
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

IncomingTransaction class
	instanceVariableNames: ''!

!classDefinition: 'IncomingTransaction class' category: 'Portfolio-Ejercicio-2' stamp: 'AW 6/1/2021 00:22:08'!
IncomingTransaction class
	instanceVariableNames: ''!
!IncomingTransaction methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:22:08' overrides: 50341052!
        affectBalance: aBalance

	^aBalance - transfer amount.! !
!IncomingTransaction methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:22:08'!
                amount

	^transfer amount.! !
!IncomingTransaction methodsFor: 'initialization' stamp: 'AW 6/1/2021 00:22:08'!
                 initializeFor: aTransfer 
	
	transfer := aTransfer.! !
!IncomingTransaction class methodsFor: 'instance creation' stamp: 'AW 6/1/2021 00:22:08'!
               for: aTransfer
	| outgoingTransaction |
	
	outgoingTransaction _ self new initializeFor: aTransfer.
	aTransfer sender register: outgoingTransaction.
	^outgoingTransaction.! !
!IncomingTransaction methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:22:16' prior: 50342534 overrides: 50341052!
                       affectBalance: aBalance

	^aBalance + transfer amount.! !

!testRun: #TransferTest #test06 stamp: 'AW 6/1/2021 00:22:25'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:22:49' prior: 50342321!
                              amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| transfer outgoingTransaction incomingTransaction |
	
	transfer _ self new initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	
	outgoingTransaction := OutgoingTransaction for: transfer.
	incomingTransaction := IncomingTransaction for: transfer.
	
	transfer setOutgoing: outgoingTransaction andIncoming: incomingTransaction.
	^transfer.! !

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:22:51'!
FAILURE!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:22:51'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:22:51'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'AW 6/1/2021 00:22:51'!
FAILURE!

!testRun: #TransferTest #test05 stamp: 'AW 6/1/2021 00:22:51'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'AW 6/1/2021 00:22:51'!
ERROR!

!testRun: #TransferTest #test06 stamp: 'AW 6/1/2021 00:22:57'!
ERROR!
!IncomingTransaction class methodsFor: 'instance creation' stamp: 'AW 6/1/2021 00:23:36' prior: 50342548!
     for: aTransfer
	| outgoingTransaction |
	
	outgoingTransaction _ self new initializeFor: aTransfer.
	aTransfer receiver register: outgoingTransaction.
	^outgoingTransaction.! !

!testRun: #TransferTest #test06 stamp: 'AW 6/1/2021 00:23:41'!
ERROR!
!IncomingTransaction class methodsFor: 'instance creation' stamp: 'AW 6/1/2021 00:24:10' prior: 50342599!
                              for: aTransfer
	| incomingTransaction |
	
	incomingTransaction _ self new initializeFor: aTransfer.
	aTransfer receiver register: incomingTransaction.
	^incomingTransaction.! !

!testRun: #TransferTest #test06 stamp: 'AW 6/1/2021 00:24:17'!
ERROR!

!testRun: #TransferTest #test06 stamp: 'AW 6/1/2021 00:24:24'!
ERROR!
!IncomingTransaction methodsFor: 'accessing' stamp: 'AW 6/1/2021 00:24:30'!
                     sender
	self shouldBeImplemented.! !
!IncomingTransaction methodsFor: 'accessing' stamp: 'AW 6/1/2021 00:24:38' prior: 50342624!
                               sender
	^transfer sender .! !

!testRun: #TransferTest #test06 stamp: 'AW 6/1/2021 00:24:39'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:24:40'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'AW 6/1/2021 00:24:41'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AW 6/1/2021 00:25:23'!
                           test07

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: senderAccount transactions first receiver equals: receiverAccount .

! !

!testRun: #TransferTest #test07 stamp: 'AW 6/1/2021 00:25:24'!
ERROR!
!OutgoingTransaction methodsFor: 'accessing' stamp: 'AW 6/1/2021 00:25:30'!
                  receiver
	self shouldBeImplemented.! !
!OutgoingTransaction methodsFor: 'accessing' stamp: 'AW 6/1/2021 00:25:37' prior: 50342654!
                             receiver
	^transfer receiver.! !
!OutgoingTransaction methodsFor: 'accessing' stamp: 'AW 6/1/2021 00:25:40' prior: 50342659!
   receiver
	^transfer receiver.! !

!testRun: #TransferTest #test07 stamp: 'AW 6/1/2021 00:25:40'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AW 6/1/2021 00:25:40'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AW 6/1/2021 00:25:40'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AW 6/1/2021 00:25:40'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'AW 6/1/2021 00:25:40'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'AW 6/1/2021 00:25:40'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'AW 6/1/2021 00:25:40'!
PASSED!

!testRun: #TransferTest #test07 stamp: 'AW 6/1/2021 00:25:40'!
PASSED!

----QUIT----(1 June 2021 00:30:30) Porfolio.image priorSource: 320113!

----STARTUP---- (2 June 2021 21:56:49) as /home/nikita/r/f/ingsoft1/Inge1-ejercicios/18-Portfolio 2/Porfolio.image!

!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 22:03:05'!
                  test08

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	self
		should: [Transfer amount: -100 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferAmountMustBePositiveErrorDescription.
	


! !

!testRun: #TransferTest #test08 stamp: 'nz 6/2/2021 22:03:59'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 22:05:20'!
                      transferAmountMustBePositiveErrorDescription
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 22:05:44' prior: 50342706!
                    transferAmountMustBePositiveErrorDescription
	^'Transfer amount must be positive'.! !

!testRun: #TransferTest #test08 stamp: 'nz 6/2/2021 22:05:46'!
FAILURE!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 22:08:28' prior: 50342566!
amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| transfer outgoingTransaction incomingTransaction |
	
	(anAmountToTransfer < 0) ifTrue: [ self error: self class transferAmountMustBePositiveErrorDescription ].
	
	transfer _ self new initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	
	outgoingTransaction := OutgoingTransaction for: transfer.
	incomingTransaction := IncomingTransaction for: transfer.
	
	transfer setOutgoing: outgoingTransaction andIncoming: incomingTransaction.
	^transfer.! !

!testRun: #TransferTest #test08 stamp: 'nz 6/2/2021 22:08:34'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'nz 6/2/2021 22:08:34'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'nz 6/2/2021 22:08:34'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'nz 6/2/2021 22:08:34'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'nz 6/2/2021 22:08:34'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'nz 6/2/2021 22:08:34'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'nz 6/2/2021 22:08:34'!
PASSED!

!testRun: #TransferTest #test07 stamp: 'nz 6/2/2021 22:08:34'!
PASSED!

!testRun: #TransferTest #test08 stamp: 'nz 6/2/2021 22:08:34'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 22:08:43'!
   test09

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	self
		should: [Transfer amount: 0 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferAmountMustBePositiveErrorDescription.
	


! !

!testRun: #TransferTest #test09 stamp: 'nz 6/2/2021 22:08:43'!
FAILURE!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 22:08:58' prior: 50342720!
       amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| transfer outgoingTransaction incomingTransaction |
	
	(anAmountToTransfer <= 0) ifTrue: [ self error: self class transferAmountMustBePositiveErrorDescription ].
	
	transfer _ self new initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	
	outgoingTransaction := OutgoingTransaction for: transfer.
	incomingTransaction := IncomingTransaction for: transfer.
	
	transfer setOutgoing: outgoingTransaction andIncoming: incomingTransaction.
	^transfer.! !

!testRun: #TransferTest #test09 stamp: 'nz 6/2/2021 22:09:02'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'nz 6/2/2021 22:09:02'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'nz 6/2/2021 22:09:02'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'nz 6/2/2021 22:09:02'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'nz 6/2/2021 22:09:02'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'nz 6/2/2021 22:09:02'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'nz 6/2/2021 22:09:02'!
PASSED!

!testRun: #TransferTest #test07 stamp: 'nz 6/2/2021 22:09:02'!
PASSED!

!testRun: #TransferTest #test08 stamp: 'nz 6/2/2021 22:09:02'!
PASSED!

!testRun: #TransferTest #test09 stamp: 'nz 6/2/2021 22:09:02'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 22:09:54'!
                          test10

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := senderAccount.
	
	self
		should: [Transfer amount: 100 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferAmountMustBePositiveErrorDescription.
	


! !

!testRun: #TransferTest #test10 stamp: 'nz 6/2/2021 22:09:56'!
FAILURE!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 22:10:40' prior: 50342818!
               test10

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := senderAccount.
	
	self
		should: [Transfer amount: 100 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferReceiverAndSenderCannotBeTheSameErrorDescription.
	


! !

!testRun: #TransferTest #test10 stamp: 'nz 6/2/2021 23:22:49'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:22:58'!
                   transferReceiverAndSenderCannotBeTheSameErrorDescription
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:23:11' prior: 50342848!
        transferReceiverAndSenderCannotBeTheSameErrorDescription
	^'Receiver and Sender cannot be the same'.! !

!testRun: #TransferTest #test10 stamp: 'nz 6/2/2021 23:23:14'!
FAILURE!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:24:15' prior: 50342775!
              amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| transfer outgoingTransaction incomingTransaction |
	
	(anAmountToTransfer <= 0) ifTrue: [ self error: self class transferAmountMustBePositiveErrorDescription ].
	(aSenderAccount = aReceiverAccount) ifTrue: [ self error: self class transferReceiverAndSenderCannotBeTheSameErrorDescription ].
	
	transfer _ self new initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	
	outgoingTransaction := OutgoingTransaction for: transfer.
	incomingTransaction := IncomingTransaction for: transfer.
	
	transfer setOutgoing: outgoingTransaction andIncoming: incomingTransaction.
	^transfer.! !

!testRun: #TransferTest #test10 stamp: 'nz 6/2/2021 23:24:16'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'nz 6/2/2021 23:24:16'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'nz 6/2/2021 23:24:16'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'nz 6/2/2021 23:24:16'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'nz 6/2/2021 23:24:16'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'nz 6/2/2021 23:24:16'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'nz 6/2/2021 23:24:16'!
PASSED!

!testRun: #TransferTest #test07 stamp: 'nz 6/2/2021 23:24:16'!
PASSED!

!testRun: #TransferTest #test08 stamp: 'nz 6/2/2021 23:24:16'!
PASSED!

!testRun: #TransferTest #test09 stamp: 'nz 6/2/2021 23:24:16'!
PASSED!

!testRun: #TransferTest #test10 stamp: 'nz 6/2/2021 23:24:16'!
PASSED!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:25:09'!
              validateTransferWithAmount: aReceiverAccount anAmountToTransferfrom: anAmountToTransfer to: aSenderAccount

	(anAmountToTransfer <= 0) ifTrue: [ self error: self class transferAmountMustBePositiveErrorDescription ].
	(aSenderAccount = aReceiverAccount) ifTrue: [ self error: self class transferReceiverAndSenderCannotBeTheSameErrorDescription ]! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:25:09' prior: 50342863!
   amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| transfer outgoingTransaction incomingTransaction |
	
	self validateTransferWithAmount: aReceiverAccount anAmountToTransferfrom: anAmountToTransfer to: aSenderAccount.
	
	transfer _ self new initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	
	outgoingTransaction := OutgoingTransaction for: transfer.
	incomingTransaction := IncomingTransaction for: transfer.
	
	transfer setOutgoing: outgoingTransaction andIncoming: incomingTransaction.
	^transfer.! !

!testRun: #TransferTest #test01 stamp: 'nz 6/2/2021 23:25:16'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'nz 6/2/2021 23:25:16'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'nz 6/2/2021 23:25:16'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'nz 6/2/2021 23:25:16'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'nz 6/2/2021 23:25:16'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'nz 6/2/2021 23:25:16'!
PASSED!

!testRun: #TransferTest #test07 stamp: 'nz 6/2/2021 23:25:16'!
PASSED!

!testRun: #TransferTest #test08 stamp: 'nz 6/2/2021 23:25:16'!
PASSED!

!testRun: #TransferTest #test09 stamp: 'nz 6/2/2021 23:25:16'!
PASSED!

!testRun: #TransferTest #test10 stamp: 'nz 6/2/2021 23:25:16'!
PASSED!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:25:24' prior: 50342912!
  validateTransferWithAmount: aReceiverAccount anAmountToTransferfrom: anAmountToTransfer to: aSenderAccount

	(anAmountToTransfer <= 0)
		ifTrue: [ self error: self class transferAmountMustBePositiveErrorDescription ].
	(aSenderAccount = aReceiverAccount)
		ifTrue: [ self error: self class transferReceiverAndSenderCannotBeTheSameErrorDescription ]! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:25:26' prior: 50342969!
                               validateTransferWithAmount: aReceiverAccount anAmountToTransferfrom: anAmountToTransfer to: aSenderAccount

	(anAmountToTransfer <= 0)
		ifTrue: [ self error: self class transferAmountMustBePositiveErrorDescription ].
		
	(aSenderAccount = aReceiverAccount)
		ifTrue: [ self error: self class transferReceiverAndSenderCannotBeTheSameErrorDescription ]! !

!testRun: #TransferTest #test01 stamp: 'nz 6/2/2021 23:25:29'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'nz 6/2/2021 23:25:29'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'nz 6/2/2021 23:25:29'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'nz 6/2/2021 23:25:29'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'nz 6/2/2021 23:25:29'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'nz 6/2/2021 23:25:29'!
PASSED!

!testRun: #TransferTest #test07 stamp: 'nz 6/2/2021 23:25:29'!
PASSED!

!testRun: #TransferTest #test08 stamp: 'nz 6/2/2021 23:25:29'!
PASSED!

!testRun: #TransferTest #test09 stamp: 'nz 6/2/2021 23:25:29'!
PASSED!

!testRun: #TransferTest #test10 stamp: 'nz 6/2/2021 23:25:29'!
PASSED!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:26:10' prior: 50342926!
            amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| transfer outgoingTransaction incomingTransaction |
	
	self validateTransferWithAmount: aReceiverAccount anAmountToTransferfrom: anAmountToTransfer to: aSenderAccount.
	
	transfer _ self new initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	
	outgoingTransaction := OutgoingTransaction for: transfer.
	incomingTransaction := IncomingTransaction for: transfer.
	
	transfer setOutgoing: outgoingTransaction andIncoming: incomingTransaction.
	^transfer.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:26:57'!
  validateTransferWithAmount: aReceiverAccount from: anAmountToTransfer to: aSenderAccount

	(anAmountToTransfer <= 0)
		ifTrue: [ self error: self class transferAmountMustBePositiveErrorDescription ].
		
	(aSenderAccount = aReceiverAccount)
		ifTrue: [ self error: self class transferReceiverAndSenderCannotBeTheSameErrorDescription ]! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:26:57' prior: 50343021!
              amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| transfer outgoingTransaction incomingTransaction |
	
	self validateTransferWithAmount: aReceiverAccount from: anAmountToTransfer to: aSenderAccount.
	
	transfer _ self new initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	
	outgoingTransaction := OutgoingTransaction for: transfer.
	incomingTransaction := IncomingTransaction for: transfer.
	
	transfer setOutgoing: outgoingTransaction andIncoming: incomingTransaction.
	^transfer.! !

!methodRemoval: Transfer class #validateTransferWithAmount:anAmountToTransferfrom:to: stamp: 'nz 6/2/2021 23:26:57'!
validateTransferWithAmount: aReceiverAccount anAmountToTransferfrom: anAmountToTransfer to: aSenderAccount

	(anAmountToTransfer <= 0)
		ifTrue: [ self error: self class transferAmountMustBePositiveErrorDescription ].
		
	(aSenderAccount = aReceiverAccount)
		ifTrue: [ self error: self class transferReceiverAndSenderCannotBeTheSameErrorDescription ]!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:27:06' prior: 50343055!
             amount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount 
	| transfer outgoingTransaction incomingTransaction |
	
	self validateTransferWithAmount: anAmountToTransfer from: aReceiverAccount to: aSenderAccount.
	
	transfer _ self new initializeAmount: anAmountToTransfer from: aSenderAccount to: aReceiverAccount.
	
	outgoingTransaction := OutgoingTransaction for: transfer.
	incomingTransaction := IncomingTransaction for: transfer.
	
	transfer setOutgoing: outgoingTransaction andIncoming: incomingTransaction.
	^transfer.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:27:16' prior: 50343041!
    validateTransferWithAmount: anAmountToTransfer from: aReceiverAccount to: aSenderAccount

	(anAmountToTransfer <= 0)
		ifTrue: [ self error: self class transferAmountMustBePositiveErrorDescription ].
		
	(aSenderAccount = aReceiverAccount)
		ifTrue: [ self error: self class transferReceiverAndSenderCannotBeTheSameErrorDescription ]! !

!testRun: #TransferTest #test01 stamp: 'nz 6/2/2021 23:27:25'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'nz 6/2/2021 23:27:25'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'nz 6/2/2021 23:27:25'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'nz 6/2/2021 23:27:25'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'nz 6/2/2021 23:27:25'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'nz 6/2/2021 23:27:25'!
PASSED!

!testRun: #TransferTest #test07 stamp: 'nz 6/2/2021 23:27:25'!
PASSED!

!testRun: #TransferTest #test08 stamp: 'nz 6/2/2021 23:27:25'!
PASSED!

!testRun: #TransferTest #test09 stamp: 'nz 6/2/2021 23:27:25'!
PASSED!

!testRun: #TransferTest #test10 stamp: 'nz 6/2/2021 23:27:25'!
PASSED!

TestCase subclass: #ReportsTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!

!classDefinition: #ReportsTest category: 'Portfolio-Ejercicio-2' stamp: 'nz 6/2/2021 23:29:13'!
TestCase subclass: #ReportsTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!ReportsTest methodsFor: 'no messages' stamp: 'nz 6/2/2021 23:29:32'!
                             test01

	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:30:05'!
    test01TransferAffectsBothBalances

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
		
	self assert: -100 equals: senderAccount balance .
	self assert: 100 equals: receiverAccount balance .
! !

!methodRemoval: TransferTest #test01 stamp: 'nz 6/2/2021 23:30:16'!
test01

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
		
	self assert: -100 equals: senderAccount balance .
	self assert: 100 equals: receiverAccount balance .
!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:31:23'!
                   test02TransferRegistersAnOutgoingTransactionInSenderAccount

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: (senderAccount hasRegistered: transfer outgoingTransaction).

! !

!methodRemoval: TransferTest #test02 stamp: 'nz 6/2/2021 23:31:26'!
test02

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: (senderAccount hasRegistered: transfer outgoingTransaction).

!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:32:23'!
       test03TransferCanRetrieveTheReceiver

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: transfer receiver equals: receiverAccount.

! !

!methodRemoval: TransferTest #test03 stamp: 'nz 6/2/2021 23:32:29'!
test03

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: transfer receiver equals: receiverAccount.

!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:32:57'!
  test04TransferRegistersAnIncomingTransactionInReceiverAccount

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: (receiverAccount hasRegistered: transfer incomingTransaction).

! !

!methodRemoval: TransferTest #test04 stamp: 'nz 6/2/2021 23:32:57'!
test04

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: (receiverAccount hasRegistered: transfer incomingTransaction).

!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:33:15'!
 test05TransferCanRetrieveTheSender

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: transfer sender equals: senderAccount.! !

!methodRemoval: TransferTest #test05 stamp: 'nz 6/2/2021 23:33:15'!
test05

	| senderAccount receiverAccount transfer |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	transfer := Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: transfer sender equals: senderAccount.!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:35:57'!
                test06IncomingTransactionCanRetrieveTheSender

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: receiverAccount transactions first sender equals: senderAccount.

! !

!methodRemoval: TransferTest #test06 stamp: 'nz 6/2/2021 23:35:57'!
test06

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: receiverAccount transactions first sender equals: senderAccount.

!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:37:17'!
                       test07OutgoingTransactionCanRetrieveTheReceiver

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: senderAccount transactions first receiver equals: receiverAccount .

! !

!methodRemoval: TransferTest #test07 stamp: 'nz 6/2/2021 23:37:17'!
test07

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	Transfer amount: 100 from: senderAccount to: receiverAccount.
	
	self assert: senderAccount transactions first receiver equals: receiverAccount .

!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:37:45'!
               test08TransferWithNegativeAmountShouldRaiseError

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	self
		should: [Transfer amount: -100 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferAmountMustBePositiveErrorDescription.
	


! !

!methodRemoval: TransferTest #test08 stamp: 'nz 6/2/2021 23:37:45'!
test08

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	self
		should: [Transfer amount: -100 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferAmountMustBePositiveErrorDescription.
	


!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:38:18'!
test09ZeroAmountTransferShouldRaiseError

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	self
		should: [Transfer amount: 0 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferAmountMustBePositiveErrorDescription.
	


! !

!methodRemoval: TransferTest #test09 stamp: 'nz 6/2/2021 23:38:18'!
test09

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := ReceptiveAccount  new.
	
	self
		should: [Transfer amount: 0 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferAmountMustBePositiveErrorDescription.
	


!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:38:49'!
              test10TransferReceiverAndSenderCannotBeTheSame

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := senderAccount.
	
	self
		should: [Transfer amount: 100 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferReceiverAndSenderCannotBeTheSameErrorDescription.
	


! !

!methodRemoval: TransferTest #test10 stamp: 'nz 6/2/2021 23:38:49'!
test10

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := senderAccount.
	
	self
		should: [Transfer amount: 100 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferReceiverAndSenderCannotBeTheSameErrorDescription.
	


!

!testRun: #TransferTest #test10TransferReceiverAndSenderCannotBeTheSame stamp: 'nz 6/2/2021 23:38:52'!
PASSED!

!testRun: #TransferTest #test10TransferReceiverAndSenderCannotBeTheSame stamp: 'nz 6/2/2021 23:38:54'!
PASSED!

!testRun: #TransferTest #test01TransferAffectsBothBalances stamp: 'nz 6/2/2021 23:38:54'!
PASSED!

!testRun: #TransferTest #test02TransferRegistersAnOutgoingTransactionInSenderAccount stamp: 'nz 6/2/2021 23:38:54'!
PASSED!

!testRun: #TransferTest #test03TransferCanRetrieveTheReceiver stamp: 'nz 6/2/2021 23:38:54'!
PASSED!

!testRun: #TransferTest #test04TransferRegistersAnIncomingTransactionInReceiverAccount stamp: 'nz 6/2/2021 23:38:54'!
PASSED!

!testRun: #TransferTest #test05TransferCanRetrieveTheSender stamp: 'nz 6/2/2021 23:38:54'!
PASSED!

!testRun: #TransferTest #test06IncomingTransactionCanRetrieveTheSender stamp: 'nz 6/2/2021 23:38:54'!
PASSED!

!testRun: #TransferTest #test07OutgoingTransactionCanRetrieveTheReceiver stamp: 'nz 6/2/2021 23:38:54'!
PASSED!

!testRun: #TransferTest #test08TransferWithNegativeAmountShouldRaiseError stamp: 'nz 6/2/2021 23:38:54'!
PASSED!

!testRun: #TransferTest #test09ZeroAmountTransferShouldRaiseError stamp: 'nz 6/2/2021 23:38:54'!
PASSED!

!testRun: #TransferTest #test10TransferReceiverAndSenderCannotBeTheSame stamp: 'nz 6/2/2021 23:38:54'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:39:46'!
       test10SelfTransferShouldRaiseError

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := senderAccount.
	
	self
		should: [Transfer amount: 100 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferReceiverAndSenderCannotBeTheSameErrorDescription.
	


! !

!methodRemoval: TransferTest #test10TransferReceiverAndSenderCannotBeTheSame stamp: 'nz 6/2/2021 23:39:46'!
test10TransferReceiverAndSenderCannotBeTheSame

	| senderAccount receiverAccount |
	
	senderAccount := ReceptiveAccount  new.
	receiverAccount := senderAccount.
	
	self
		should: [Transfer amount: 100 from: senderAccount to: receiverAccount.] 
		raise: Error
		description: Transfer transferReceiverAndSenderCannotBeTheSameErrorDescription.
	


!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:47:48' prior: 50343158!
         test01

	| account report |
	
	account := ReceptiveAccount new.
	"Deposit register: 100 on: account."
	"Withdraw register: 50 on: account."
		
	report := nil value.
		
	self assert: 'Balance = 0.' equals: report first .
	self assert: 1 equals: report size .
! !

!classDefinition: #AccountSummary category: 'Portfolio-Ejercicio-2' stamp: 'nz 6/2/2021 23:52:44'!
Object subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:52:35' prior: 50343475!
          test01

	| account report |
	
	account := ReceptiveAccount new.
	"Deposit register: 100 on: account."
	"Withdraw register: 50 on: account."
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 1 equals: report size .
	self assert: 'Balance = 0.' equals: report first .
! !

!testRun: #ReportsTest #test01 stamp: 'nz 6/2/2021 23:53:04'!
ERROR!
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:53:16'!
                            for: aReceptiveAccount 
	self shouldBeImplemented.! !
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:55:12' prior: 50343509!
   for: aReceptiveAccount 
	
	self new intializeWith: aReceptiveAccount.! !

!testRun: #ReportsTest #test01 stamp: 'nz 6/2/2021 23:55:22'!
ERROR!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:55:29'!
intializeWith: aReceptiveAccount 
	self shouldBeImplemented.! !

!classDefinition: #AccountSummary category: 'Portfolio-Ejercicio-2' stamp: 'nz 6/2/2021 23:55:50'!
Object subclass: #AccountSummary
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio-2'!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:55:48' prior: 50343521!
      intializeWith: aReceptiveAccount 
	
	account := aReceptiveAccount .! !

!testRun: #ReportsTest #test01 stamp: 'nz 6/2/2021 23:55:56'!
ERROR!
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:56:05'!
                            createReport
	self shouldBeImplemented.! !
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:56:23' prior: 50343542!
              createReport
	
	^OrderedCollection with: 'Balance = 0.'.! !

!testRun: #ReportsTest #test01 stamp: 'nz 6/2/2021 23:56:24'!
PASSED!

!testRun: #ReportsTest #test01 stamp: 'nz 6/2/2021 23:56:24'!
PASSED!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:57:37'!
        test02

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	"Withdraw register: 50 on: account."
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 1 equals: report size .
	self assert: 'Balance = 0.' equals: report first .
! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/2/2021 23:58:06' prior: 50343556!
                             test02

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	"Withdraw register: 50 on: account."
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 2 equals: report size .
	self assert: 'Depsito por 100.' equals: report first .
	self assert: 'Balance = 100.' equals: report second .
! !

!testRun: #ReportsTest #test02 stamp: 'nz 6/2/2021 23:58:21'!
FAILURE!
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:00:08' prior: 50343547!
                createReport

	^OrderedCollection with: 'Balance = 0.'.! !
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:01:56' prior: 50343514!
                              for: aReceptiveAccount 
	
	^self new intializeWith: aReceptiveAccount.! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:02:08'!
        xtest02

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	"Withdraw register: 50 on: account."
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 2 equals: report size .
	self assert: 'Depsito por 100.' equals: report first .
	self assert: 'Balance = 100.' equals: report second .
! !

!methodRemoval: ReportsTest #test02 stamp: 'nz 6/3/2021 00:02:11'!
test02

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	"Withdraw register: 50 on: account."
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 2 equals: report size .
	self assert: 'Depsito por 100.' equals: report first .
	self assert: 'Balance = 100.' equals: report second .
!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:02:35'!
          createReport

	^OrderedCollection with: 'Balance = 0.'.! !

!methodRemoval: AccountSummary class #createReport stamp: 'nz 6/3/2021 00:02:35'!
createReport

	^OrderedCollection with: 'Balance = 0.'.!

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:02:42'!
PASSED!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:02:59'!
    test02

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	"Withdraw register: 50 on: account."
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 2 equals: report size .
	self assert: 'Depsito por 100.' equals: report first .
	self assert: 'Balance = 100.' equals: report second .
! !

!methodRemoval: ReportsTest #xtest02 stamp: 'nz 6/3/2021 00:03:00'!
xtest02

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	"Withdraw register: 50 on: account."
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 2 equals: report size .
	self assert: 'Depsito por 100.' equals: report first .
	self assert: 'Balance = 100.' equals: report second .
!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:03:06'!
FAILURE!

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:03:41'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:03:41'!
FAILURE!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:03:41'!
FAILURE!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:05:24' prior: 50343624!
                          createReport

	(account transactions size = 0) ifTrue: [ 
		^OrderedCollection with: 'Balance = 0.'.
	].
	^OrderedCollection with: 'Depsito por 100.' with: 'Balance = 100.'.! !

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:05:30'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:05:30'!
PASSED!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:06:27'!
                  test03

	| account report |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 2 equals: report size .
	self assert: 'Extraccin por 50.' equals: report first .
	self assert: 'Balance = -50.' equals: report second .
! !

!testRun: #ReportsTest #test03 stamp: 'nz 6/3/2021 00:06:29'!
FAILURE!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:08:01' prior: 50343672!
                           createReport

	(account transactions size = 0) ifTrue: [ 
		^OrderedCollection with: 'Balance = 0.'.
	].
	(account transactions first isKindOf: Withdraw) ifTrue: [
		^OrderedCollection with: 'Extraccin por 50.' with: 'Balance = -50.'.
	].
	^OrderedCollection with: 'Depsito por 100.' with: 'Balance = 100.'.! !

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:08:02'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:08:02'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'nz 6/3/2021 00:08:02'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'nz 6/3/2021 00:08:04'!
PASSED!

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:08:04'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:08:04'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'nz 6/3/2021 00:08:04'!
PASSED!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:09:27' prior: 50343701!
                     createReport

	| report |

	report := OrderedCollection new.
	
	(account transactions size = 0) ifTrue: [ 
		^OrderedCollection with: 'Balance = 0.'.
	].
	(account transactions first isKindOf: Withdraw) ifTrue: [
		^OrderedCollection with: 'Extraccin por 50.' with: 'Balance = -50.'.
	].
	^OrderedCollection with: 'Depsito por 100.' with: 'Balance = 100.'.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:10:56' prior: 50343730!
                     createReport

	| report |

	report := OrderedCollection new.
	
	(account transactions first isKindOf: Withdraw) ifTrue: [
		report add: 'Extraccin por 50.'.
	] ifFalse: [
		report add: 'Depsito por 100.'.
	].
	
	report add: 'Balance = ', account balance, '.'.
	^report.! !

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:10:59'!
ERROR!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:10:59'!
ERROR!

!testRun: #ReportsTest #test03 stamp: 'nz 6/3/2021 00:10:59'!
ERROR!

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:11:08'!
ERROR!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:11:59' prior: 50343745!
                    createReport

	| report |

	report := OrderedCollection new.
	
	(account transactions isEmpty) ifFalse: [
		(account transactions first isKindOf: Withdraw) ifTrue: [
			report add: 'Extraccin por 50.'.
		] ifFalse: [
			report add: 'Depsito por 100.'.
		].
	].
	
	report add: 'Balance = ', account balance, '.'.
	^report.! !

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:12:01'!
ERROR!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:12:01'!
ERROR!

!testRun: #ReportsTest #test03 stamp: 'nz 6/3/2021 00:12:01'!
ERROR!

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:12:04'!
ERROR!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:12:14' prior: 50343766!
createReport

	| report |

	report := OrderedCollection new.
	
	(account transactions isEmpty) ifFalse: [
		(account transactions first isKindOf: Withdraw) ifTrue: [
			report add: 'Extraccin por 50.'.
		] ifFalse: [
			report add: 'Depsito por 100.'.
		].
	].
	
	report add: 'Balance = ', account balance asString, '.'.
	^report.! !

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:12:14'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:12:14'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'nz 6/3/2021 00:12:14'!
PASSED!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:13:22'!
             test04

	| account report anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Withdraw register: 50 on: account.
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 2 equals: report size .
	self assert: 'Extraccin por 50.' equals: report first .
	self assert: 'Balance = -50.' equals: report second .
! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:13:54' prior: 50343808!
              test04

	| account report anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	Transfer amount: 30 from: anotherAccount to: account.
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 2 equals: report size .
	self assert: 'Extraccin por 50.' equals: report first .
	self assert: 'Balance = -50.' equals: report second .
! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:14:24' prior: 50343823!
                         test04

	| account report anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	Transfer amount: 30 from: anotherAccount to: account.
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 2 equals: report size .
	self assert: 'Entrada por transferencia de 30.' equals: report first .
	self assert: 'Balance = 30.' equals: report second .
! !

!testRun: #ReportsTest #test04 stamp: 'nz 6/3/2021 00:14:29'!
FAILURE!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:15:29' prior: 50343788!
 createReport

	| report |

	report := OrderedCollection new.
	
	(account transactions isEmpty) ifFalse: [
		(account transactions first isKindOf: Withdraw) ifTrue: [
			report add: 'Extraccin por 50.'.
		].
		(account transactions first isKindOf: Deposit) ifTrue: [
			report add: 'Depsito por 100.'.
		].
		(account transactions first isKindOf: IncomingTransaction) ifTrue: [
			report add: 'Entrada por transferencia de 30.'.
		].
	].
	
	report add: 'Balance = ', account balance asString, '.'.
	^report.! !

!testRun: #ReportsTest #test04 stamp: 'nz 6/3/2021 00:15:43'!
PASSED!

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:15:43'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:15:43'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'nz 6/3/2021 00:15:43'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'nz 6/3/2021 00:15:43'!
PASSED!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:17:49' prior: 50343839!
                               test04

	| account report anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	Transfer amount: 20 from: account to: anotherAccount.
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 2 equals: report size .
	self assert: 'Salida por transferencia de 20.' equals: report first .
	self assert: 'Balance = 20.' equals: report second .
! !

!testRun: #ReportsTest #test04 stamp: 'nz 6/3/2021 00:17:50'!
FAILURE!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:18:12' prior: 50343857!
  createReport

	| report |

	report := OrderedCollection new.
	
	(account transactions isEmpty) ifFalse: [
		(account transactions first isKindOf: Withdraw) ifTrue: [
			report add: 'Extraccin por 50.'.
		].
		(account transactions first isKindOf: Deposit) ifTrue: [
			report add: 'Depsito por 100.'.
		].
		(account transactions first isKindOf: IncomingTransaction) ifTrue: [
			report add: 'Entrada por transferencia de 30.'.
		].
		(account transactions first isKindOf: OutgoingTransaction) ifTrue: [
			report add: 'Entrada por transferencia de 30.'.
		].
	].
	
	report add: 'Balance = ', account balance asString, '.'.
	^report.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:18:16' prior: 50343906!
createReport

	| report |

	report := OrderedCollection new.
	
	(account transactions isEmpty) ifFalse: [
		(account transactions first isKindOf: Withdraw) ifTrue: [
			report add: 'Extraccin por 50.'.
		].
		(account transactions first isKindOf: Deposit) ifTrue: [
			report add: 'Depsito por 100.'.
		].
		(account transactions first isKindOf: IncomingTransaction) ifTrue: [
			report add: 'Entrada por transferencia de 30.'.
		].
		(account transactions first isKindOf: OutgoingTransaction) ifTrue: [
			report add: 'Salida por transferencia de 20.'.
		].
	].
	
	report add: 'Balance = ', account balance asString, '.'.
	^report.! !

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:18:17'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:18:17'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'nz 6/3/2021 00:18:17'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'nz 6/3/2021 00:18:17'!
FAILURE!

!testRun: #ReportsTest #test04 stamp: 'nz 6/3/2021 00:18:17'!
FAILURE!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'nz 6/3/2021 00:18:26' prior: 50343888!
                               test04

	| account report anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	Transfer amount: 20 from: account to: anotherAccount.
		
	report := (AccountSummary for: account) createReport.
		
	self assert: 2 equals: report size .
	self assert: 'Salida por transferencia de 20.' equals: report first .
	self assert: 'Balance = -20.' equals: report second .
! !

!testRun: #ReportsTest #test04 stamp: 'nz 6/3/2021 00:18:26'!
PASSED!

!testRun: #ReportsTest #test01 stamp: 'nz 6/3/2021 00:18:26'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'nz 6/3/2021 00:18:26'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'nz 6/3/2021 00:18:26'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'nz 6/3/2021 00:18:26'!
PASSED!

----QUIT----(3 June 2021 00:18:36) Porfolio.image priorSource: 353088!